import{a as e,i as t,n}from"./aria-CIJ92hv4.js";import{M as r,N as i,T as a,a as o,b as s,i as c,j as l,m as u,o as d,p as ee,s as te}from"./button-OiLMmw4m.js";import{$t as ne,A as re,C as f,En as ie,Fn as p,H as m,J as ae,K as oe,Ln as se,Mn as h,O as g,P as ce,Qn as le,Rn as ue,S as de,Vn as _,Vt as fe,Xn as v,Yn as y,an as b,bn as pe,cn as x,dr as S,kn as C,ln as w,mn as T,mr as E,nr as me,o as D,on as O,or as k,pn as A,pr as he,sn as j,sr as ge,tn as M,tr as N,ur as P,xn as F,y as I,zn as L}from"./index-O7hvt5-X.js";var R=`update:modelValue`,z=`change`,_e=`input`,B=()=>ce&&/firefox/i.test(window.navigator.userAgent),V=void 0,H={height:`0`,visibility:`hidden`,overflow:B()?``:`hidden`,position:`absolute`,"z-index":`-1000`,top:`0`,right:`0`},U=[`letter-spacing`,`line-height`,`padding-top`,`padding-bottom`,`font-family`,`font-weight`,`font-size`,`text-rendering`,`text-transform`,`width`,`text-indent`,`padding-left`,`padding-right`,`border-width`,`box-sizing`,`word-break`];function ve(e){let t=window.getComputedStyle(e),n=t.getPropertyValue(`box-sizing`),r=Number.parseFloat(t.getPropertyValue(`padding-bottom`))+Number.parseFloat(t.getPropertyValue(`padding-top`)),i=Number.parseFloat(t.getPropertyValue(`border-bottom-width`))+Number.parseFloat(t.getPropertyValue(`border-top-width`));return{contextStyle:U.map(e=>[e,t.getPropertyValue(e)]),paddingSize:r,borderSize:i,boxSizing:n}}function ye(e,t=1,n){var r;V||(V=document.createElement(`textarea`),(e.parentNode??document.body).appendChild(V));let{paddingSize:i,borderSize:a,boxSizing:o,contextStyle:s}=ve(e);s.forEach(([e,t])=>V?.style.setProperty(e,t)),Object.entries(H).forEach(([e,t])=>V?.style.setProperty(e,t,`important`)),V.value=e.value||e.placeholder||``;let c=V.scrollHeight,l={};o===`border-box`?c+=a:o===`content-box`&&(c-=i),V.value=``;let u=V.scrollHeight-i;if(m(t)){let e=u*t;o===`border-box`&&(e=e+i+a),c=Math.max(e,c),l.minHeight=`${e}px`}if(m(n)){let e=u*n;o===`border-box`&&(e=e+i+a),c=Math.min(e,c)}return l.height=`${c}px`,(r=V.parentNode)==null||r.removeChild(V),V=void 0,l}var W=e=>e,G=de({id:{type:String,default:void 0},size:I,disabled:Boolean,modelValue:{type:f([String,Number,Object]),default:``},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:`text`},resize:{type:String,values:[`none`,`both`,`horizontal`,`vertical`]},autosize:{type:f([Boolean,Object]),default:!1},autocomplete:{type:f(String),default:`off`},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:u,default:s},showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:u},prefixIcon:{type:u},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:f([Object,Array,String]),default:()=>W({})},autofocus:Boolean,rows:{type:Number,default:2},...t([`ariaLabel`]),inputmode:{type:f(String),default:void 0},name:String}),be={[R]:e=>P(e),input:e=>P(e),change:e=>P(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},K=[`class`,`style`],xe=/^on[A-Z]/,Se=(e={})=>{let{excludeListeners:t=!1,excludeKeys:n}=e,r=b(()=>(n?.value||[]).concat(K)),i=T();return b(i?()=>ae(Object.entries(i.proxy?.$attrs).filter(([e])=>!r.value.includes(e)&&!(t&&xe.test(e)))):()=>({}))};function Ce(e,{disabled:t,beforeFocus:r,afterFocus:i,beforeBlur:a,afterBlur:o}={}){let{emit:s}=T(),c=v(),l=y(!1),u=e=>{let n=k(r)?r(e):!1;N(t)||l.value||n||(l.value=!0,s(`focus`,e),i?.())},d=e=>{let n=k(a)?a(e):!1;N(t)||e.relatedTarget&&c.value?.contains(e.relatedTarget)||n||(l.value=!1,s(`blur`,e),o?.())};return L([c,()=>N(t)],([e,t])=>{e&&(t?e.removeAttribute(`tabindex`):e.setAttribute(`tabindex`,`-1`))}),g(c,`focus`,u,!0),g(c,`blur`,d,!0),g(c,`click`,r=>{var i;N(t)||n(r.target)||c.value?.contains(document.activeElement)&&c.value!==document.activeElement||(i=e.value)==null||i.focus()},!0),{isFocused:l,wrapperRef:c,handleFocus:u,handleBlur:d}}var we=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function Te({afterComposition:e,emit:t}){let n=y(!1),r=e=>{t?.(`compositionstart`,e),n.value=!0},i=e=>{t?.(`compositionupdate`,e);let r=e.target?.value;n.value=!we(r[r.length-1]||``)},a=r=>{t?.(`compositionend`,r),n.value&&(n.value=!1,F(()=>e(r)))};return{isComposing:n,handleComposition:e=>{e.type===`compositionend`?a(e):i(e)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:a}}function Ee(e){let t;function n(){if(e.value==null)return;let{selectionStart:n,selectionEnd:r,value:i}=e.value;n==null||r==null||(t={selectionStart:n,selectionEnd:r,value:i,beforeTxt:i.slice(0,Math.max(0,n)),afterTxt:i.slice(Math.max(0,r))})}function r(){if(e.value==null||t==null)return;let{value:n}=e.value,{beforeTxt:r,afterTxt:i,selectionStart:a}=t;if(r==null||i==null||a==null)return;let o=n.length;if(n.endsWith(i))o=n.length-i.length;else if(n.startsWith(r))o=r.length;else{let e=r[a-1],t=n.indexOf(e,a-1);t!==-1&&(o=t+1)}e.value.setSelectionRange(o,o)}return[n,r]}var De=D(i(A({...A({name:`ElInput`,inheritAttrs:!1}),props:G,emits:be,setup(t,{expose:n,emit:i}){let s=t,u=se(),f=Se(),m=ue(),ae=b(()=>[s.type===`textarea`?I.b():P.b(),P.m(k.value),P.is(`disabled`,A.value),P.is(`exceed`,Pe.value),{[P.b(`group`)]:m.prepend||m.append,[P.m(`prefix`)]:m.prefix||s.prefixIcon,[P.m(`suffix`)]:m.suffix||s.suffixIcon||s.clearable||s.showPassword,[P.bm(`suffix`,`password-clear`)]:Y.value&&Me.value,[P.b(`hidden`)]:s.type===`hidden`},u.class]),g=b(()=>[P.e(`wrapper`),P.is(`focus`,K.value)]),{form:de,formItem:T}=d(),{inputId:D}=te(s,{formItemContext:T}),k=o(),A=c(),P=fe(`input`),I=fe(`textarea`),B=v(),V=v(),H=y(!1),U=y(!1),ve=y(),W=v(s.inputStyle),G=b(()=>B.value||V.value),{wrapperRef:be,isFocused:K,handleFocus:xe,handleBlur:we}=Ce(G,{disabled:A,afterBlur(){var t;s.validateEvent&&((t=T?.validate)==null||t.call(T,`blur`).catch(t=>e()))}}),De=b(()=>de?.statusIcon??!1),q=b(()=>T?.validateState||``),Oe=b(()=>q.value&&ee[q.value]),ke=b(()=>U.value?l:a),Ae=b(()=>[u.style]),je=b(()=>[s.inputStyle,W.value,{resize:s.resize}]),J=b(()=>oe(s.modelValue)?``:String(s.modelValue)),Y=b(()=>s.clearable&&!A.value&&!s.readonly&&!!J.value&&(K.value||H.value)),Me=b(()=>s.showPassword&&!A.value&&!!J.value),X=b(()=>s.showWordLimit&&!!s.maxlength&&(s.type===`text`||s.type===`textarea`)&&!A.value&&!s.readonly&&!s.showPassword),Ne=b(()=>J.value.length),Pe=b(()=>!!X.value&&Ne.value>Number(s.maxlength)),Fe=b(()=>!!m.suffix||!!s.suffixIcon||Y.value||s.showPassword||X.value||!!q.value&&De.value),[Ie,Le]=Ee(B);re(V,e=>{if(Re(),!X.value||s.resize!==`both`)return;let{width:t}=e[0].contentRect;ve.value={right:`calc(100% - ${t+15+6}px)`}});let Z=()=>{let{type:e,autosize:t}=s;if(!(!ce||e!==`textarea`||!V.value))if(t){let e=ge(t)?t.minRows:void 0,n=ge(t)?t.maxRows:void 0,r=ye(V.value,e,n);W.value={overflowY:`hidden`,...r},F(()=>{V.value.offsetHeight,W.value=r})}else W.value={minHeight:ye(V.value).minHeight}},Re=(e=>{let t=!1;return()=>{t||!s.autosize||V.value?.offsetParent!==null&&(setTimeout(e),t=!0)}})(Z),Q=()=>{let e=G.value,t=s.formatter?s.formatter(J.value):J.value;!e||e.value===t||(e.value=t)},$=async e=>{Ie();let{value:t}=e.target;if(s.formatter&&s.parser&&(t=s.parser(t)),!Be.value){if(t===J.value){Q();return}i(R,t),i(_e,t),await F(),Q(),Le()}},ze=e=>{let{value:t}=e.target;s.formatter&&s.parser&&(t=s.parser(t)),i(z,t)},{isComposing:Be,handleCompositionStart:Ve,handleCompositionUpdate:He,handleCompositionEnd:Ue}=Te({emit:i,afterComposition:$}),We=()=>{Ie(),U.value=!U.value,setTimeout(Le)},Ge=()=>G.value?.focus(),Ke=()=>G.value?.blur(),qe=e=>{H.value=!1,i(`mouseleave`,e)},Je=e=>{H.value=!0,i(`mouseenter`,e)},Ye=e=>{i(`keydown`,e)},Xe=()=>{var e;(e=G.value)==null||e.select()},Ze=()=>{i(R,``),i(z,``),i(`clear`),i(_e,``)};return L(()=>s.modelValue,()=>{var t;F(()=>Z()),s.validateEvent&&((t=T?.validate)==null||t.call(T,`change`).catch(t=>e()))}),L(J,()=>Q()),L(()=>s.type,async()=>{await F(),Q(),Z()}),ie(()=>{!s.formatter&&s.parser,Q(),F(Z)}),n({input:B,textarea:V,ref:G,textareaStyle:je,autosize:le(s,`autosize`),isComposing:Be,focus:Ge,blur:Ke,select:Xe,clear:Ze,resizeTextarea:Z}),(e,t)=>(C(),w(`div`,{class:S([N(ae),{[N(P).bm(`group`,`append`)]:e.$slots.append,[N(P).bm(`group`,`prepend`)]:e.$slots.prepend}]),style:he(N(Ae)),onMouseenter:Je,onMouseleave:qe},[x(` input `),e.type===`textarea`?(C(),w(M,{key:1},[x(` textarea `),O(`textarea`,pe({id:N(D),ref_key:`textarea`,ref:V,class:[N(I).e(`inner`),N(P).is(`focus`,N(K))]},N(f),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:N(A),readonly:e.readonly,autocomplete:e.autocomplete,style:N(je),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:N(Ve),onCompositionupdate:N(He),onCompositionend:N(Ue),onInput:$,onFocus:N(xe),onBlur:N(we),onChange:ze,onKeydown:Ye}),null,16,[`id`,`minlength`,`maxlength`,`tabindex`,`disabled`,`readonly`,`autocomplete`,`aria-label`,`placeholder`,`form`,`autofocus`,`rows`,`role`,`onCompositionstart`,`onCompositionupdate`,`onCompositionend`,`onFocus`,`onBlur`]),N(X)?(C(),w(`span`,{key:0,style:he(ve.value),class:S(N(P).e(`count`))},E(N(Ne))+` / `+E(e.maxlength),7)):x(`v-if`,!0)],64)):(C(),w(M,{key:0},[x(` prepend slot `),e.$slots.prepend?(C(),w(`div`,{key:0,class:S(N(P).be(`group`,`prepend`))},[h(e.$slots,`prepend`)],2)):x(`v-if`,!0),O(`div`,{ref_key:`wrapperRef`,ref:be,class:S(N(g))},[x(` prefix slot `),e.$slots.prefix||e.prefixIcon?(C(),w(`span`,{key:0,class:S(N(P).e(`prefix`))},[O(`span`,{class:S(N(P).e(`prefix-inner`))},[h(e.$slots,`prefix`),e.prefixIcon?(C(),j(N(r),{key:0,class:S(N(P).e(`icon`))},{default:_(()=>[(C(),j(p(e.prefixIcon)))]),_:1},8,[`class`])):x(`v-if`,!0)],2)],2)):x(`v-if`,!0),O(`input`,pe({id:N(D),ref_key:`input`,ref:B,class:N(P).e(`inner`)},N(f),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?U.value?`text`:`password`:e.type,disabled:N(A),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:N(Ve),onCompositionupdate:N(He),onCompositionend:N(Ue),onInput:$,onChange:ze,onKeydown:Ye}),null,16,[`id`,`name`,`minlength`,`maxlength`,`type`,`disabled`,`readonly`,`autocomplete`,`tabindex`,`aria-label`,`placeholder`,`form`,`autofocus`,`role`,`inputmode`,`onCompositionstart`,`onCompositionupdate`,`onCompositionend`]),x(` suffix slot `),N(Fe)?(C(),w(`span`,{key:1,class:S(N(P).e(`suffix`))},[O(`span`,{class:S(N(P).e(`suffix-inner`))},[!N(Y)||!N(Me)||!N(X)?(C(),w(M,{key:0},[h(e.$slots,`suffix`),e.suffixIcon?(C(),j(N(r),{key:0,class:S(N(P).e(`icon`))},{default:_(()=>[(C(),j(p(e.suffixIcon)))]),_:1},8,[`class`])):x(`v-if`,!0)],64)):x(`v-if`,!0),N(Y)?(C(),j(N(r),{key:1,class:S([N(P).e(`icon`),N(P).e(`clear`)]),onMousedown:ne(N(me),[`prevent`]),onClick:Ze},{default:_(()=>[(C(),j(p(e.clearIcon)))]),_:1},8,[`class`,`onMousedown`])):x(`v-if`,!0),N(Me)?(C(),j(N(r),{key:2,class:S([N(P).e(`icon`),N(P).e(`password`)]),onClick:We},{default:_(()=>[(C(),j(p(N(ke))))]),_:1},8,[`class`])):x(`v-if`,!0),N(X)?(C(),w(`span`,{key:3,class:S(N(P).e(`count`))},[O(`span`,{class:S(N(P).e(`count-inner`))},E(N(Ne))+` / `+E(e.maxlength),3)],2)):x(`v-if`,!0),N(q)&&N(Oe)&&N(De)?(C(),j(N(r),{key:4,class:S([N(P).e(`icon`),N(P).e(`validateIcon`),N(P).is(`loading`,N(q)===`validating`)])},{default:_(()=>[(C(),j(p(N(Oe))))]),_:1},8,[`class`])):x(`v-if`,!0)],2)],2)):x(`v-if`,!0)],2),x(` append slot `),e.$slots.append?(C(),w(`div`,{key:1,class:S(N(P).be(`group`,`append`))},[h(e.$slots,`append`)],2)):x(`v-if`,!0)],64))],38))}}),[[`__file`,`input.vue`]]));export{W as a,R as c,Se as i,Te as n,z as o,Ce as r,_e as s,De as t};