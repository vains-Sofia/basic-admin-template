import{t as e}from"./use-deprecated-BP8lmVFH.js";import{i as t,r as n,t as r}from"./teleport-DMHkh723.js";import{a as i,c as a,i as o,l as s,o as c,r as l,s as u,t as d}from"./css-heIaB2f0.js";import{t as f}from"./refs-BjxfU7KM.js";import{Cr as p,Fr as m,Gn as h,Ii as g,Ir as _,Jr as v,Kr as y,Mr as b,Ri as x,Rr as S,Tr as C,Vi as w,Vr as T,Wr as E,X as D,Y as O,_r as k,bt as A,dr as j,f as M,fr as N,hr as P,kr as F,mr as I,nr as L,nt as R,ot as z,pr as B,qn as V,qr as H,ri as U,ui as W,ur as G,vr as K}from"./index-DkS91mYz.js";var q=(e,t,n,r)=>{let i={offsetX:0,offsetY:0},a=U(!1),o=(t,n)=>{if(e.value){let{offsetX:a,offsetY:o}=i,s=e.value.getBoundingClientRect(),c=s.left,l=s.top,u=s.width,d=s.height,f=document.documentElement.clientWidth,p=document.documentElement.clientHeight,m=-c+a,h=-l+o,g=f-c-u+a,_=p-l-(d<p?d:0)+o;r?.value||(t=Math.min(Math.max(t,m),g),n=Math.min(Math.max(n,h),_)),i.offsetX=t,i.offsetY=n,e.value.style.transform=`translate(${R(t)}, ${R(n)})`}},s=e=>{let t=e.clientX,n=e.clientY,{offsetX:r,offsetY:s}=i,c=e=>{a.value||=!0,o(r+e.clientX-t,s+e.clientY-n)},l=()=>{a.value=!1,document.removeEventListener(`mousemove`,c),document.removeEventListener(`mouseup`,l)};document.addEventListener(`mousemove`,c),document.addEventListener(`mouseup`,l)},c=()=>{t.value&&e.value&&(t.value.addEventListener(`mousedown`,s),window.addEventListener(`resize`,d))},l=()=>{t.value&&e.value&&(t.value.removeEventListener(`mousedown`,s),window.removeEventListener(`resize`,d))},u=()=>{i.offsetX=0,i.offsetY=0,e.value&&(e.value.style.transform=``)},d=()=>{let{offsetX:e,offsetY:t}=i;o(e,t)};return b(()=>{y(()=>{n.value?c():l()})}),F(()=>{l()}),{isDragging:a,resetPosition:u,updatePosition:d}},J=z(K({...K({name:`ElDialogContent`}),props:c,emits:i,setup(e,{expose:n}){let r=e,{t:i}=A(),{Close:a}=M,{dialogRef:o,headerRef:s,bodyId:c,ns:l,style:d}=p(u),{focusTrapRef:h}=p(t),_=f(h,o),v=G(()=>!!r.draggable),{resetPosition:y,updatePosition:b,isDragging:C}=q(o,s,v,G(()=>!!r.overflow)),E=G(()=>[l.b(),l.is(`fullscreen`,r.fullscreen),l.is(`draggable`,v.value),l.is(`dragging`,C.value),l.is(`align-center`,!!r.alignCenter),{[l.m(`center`)]:r.center}]);return n({resetPosition:y,updatePosition:b}),(e,t)=>(m(),I(`div`,{ref:W(_),class:g(W(E)),style:x(W(d)),tabindex:`-1`},[j(`header`,{ref_key:`headerRef`,ref:s,class:g([W(l).e(`header`),e.headerClass,{"show-close":e.showClose}])},[S(e.$slots,`header`,{},()=>[j(`span`,{role:`heading`,"aria-level":e.ariaLevel,class:g(W(l).e(`title`))},w(e.title),11,[`aria-level`])]),e.showClose?(m(),I(`button`,{key:0,"aria-label":W(i)(`el.dialog.close`),class:g(W(l).e(`headerbtn`)),type:`button`,onClick:t=>e.$emit(`close`)},[k(W(O),{class:g(W(l).e(`close`))},{default:H(()=>[(m(),N(T(e.closeIcon||W(a))))]),_:1},8,[`class`])],10,[`aria-label`,`onClick`])):B(`v-if`,!0)],2),j(`div`,{id:W(c),class:g([W(l).e(`body`),e.bodyClass])},[S(e.$slots,`default`)],10,[`id`]),e.$slots.footer?(m(),I(`footer`,{key:0,class:g([W(l).e(`footer`),e.footerClass])},[S(e.$slots,`footer`)],2)):B(`v-if`,!0)],6))}}),[[`__file`,`dialog-content.vue`]]),Y=D(z(K({...K({name:`ElDialog`,inheritAttrs:!1}),props:o,emits:l,setup(t,{expose:i}){let o=t,c=E();e({scope:`el-dialog`,from:`the title slot`,replacement:`the header slot`,version:`3.0.0`,ref:`https://element-plus.org/en-US/component/dialog.html#slots`},G(()=>!!c.title));let l=h(`dialog`),f=U(),p=U(),y=U(),{visible:b,titleId:w,bodyId:T,style:D,overlayDialogStyle:O,rendered:A,transitionConfig:M,zIndex:F,_draggable:I,_alignCenter:R,_overflow:z,handleClose:K,onModalClick:q,onOpenAutoFocus:Y,onCloseAutoFocus:X,onCloseRequested:Z,onFocusoutPrevented:Q}=d(o,f);_(u,{dialogRef:f,headerRef:p,bodyId:T,ns:l,rendered:A,style:D});let $=s(q),ee=G(()=>o.modalPenetrable&&!o.modal&&!o.fullscreen);return i({visible:b,dialogContentRef:y,resetPosition:()=>{var e;(e=y.value)==null||e.resetPosition()},handleClose:K}),(e,t)=>(m(),N(W(r),{to:e.appendTo,disabled:e.appendTo===`body`?!e.appendToBody:!1},{default:H(()=>[k(V,C(W(M),{persisted:``}),{default:H(()=>[v(k(W(a),{"custom-mask-event":``,mask:e.modal,"overlay-class":[e.modalClass??``,`${W(l).namespace.value}-modal-dialog`,W(l).is(`penetrable`,W(ee))],"z-index":W(F)},{default:H(()=>[j(`div`,{role:`dialog`,"aria-modal":`true`,"aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:W(w),"aria-describedby":W(T),class:g(`${W(l).namespace.value}-overlay-dialog`),style:x(W(O)),onClick:W($).onClick,onMousedown:W($).onMousedown,onMouseup:W($).onMouseup},[k(W(n),{loop:``,trapped:W(b),"focus-start-el":`container`,onFocusAfterTrapped:W(Y),onFocusAfterReleased:W(X),onFocusoutPrevented:W(Q),onReleaseRequested:W(Z)},{default:H(()=>[W(A)?(m(),N(J,C({key:0,ref_key:`dialogContentRef`,ref:y},e.$attrs,{center:e.center,"align-center":W(R),"close-icon":e.closeIcon,draggable:W(I),overflow:W(z),fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:W(K)}),P({header:H(()=>[e.$slots.title?S(e.$slots,`title`,{key:1}):S(e.$slots,`header`,{key:0,close:W(K),titleId:W(w),titleClass:W(l).e(`title`)})]),default:H(()=>[S(e.$slots,`default`)]),_:2},[e.$slots.footer?{name:`footer`,fn:H(()=>[S(e.$slots,`footer`)])}:void 0]),1040,[`center`,`align-center`,`close-icon`,`draggable`,`overflow`,`fullscreen`,`header-class`,`body-class`,`footer-class`,`show-close`,`title`,`aria-level`,`onClose`])):B(`v-if`,!0)]),_:3},8,[`trapped`,`onFocusAfterTrapped`,`onFocusAfterReleased`,`onFocusoutPrevented`,`onReleaseRequested`])],46,[`aria-label`,`aria-labelledby`,`aria-describedby`,`onClick`,`onMousedown`,`onMouseup`])]),_:3},8,[`mask`,`overlay-class`,`z-index`]),[[L,W(b)]])]),_:3},16)]),_:3},8,[`to`,`disabled`]))}}),[[`__file`,`dialog.vue`]]));export{q as n,Y as t};