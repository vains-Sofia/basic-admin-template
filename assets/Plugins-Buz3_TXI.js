import{o as e}from"./aria-CIJ92hv4.js";import{l as t}from"./tooltip-CjK7pdb5.js";import{c as n}from"./input-CR6PP8Vp.js";import{m as r,u as i}from"./button-OiLMmw4m.js";import{i as a,n as o}from"./click-outside-Dh2MD5H_.js";import{C as s,En as c,Gn as l,Kn as u,Mn as d,P as f,R as p,S as m,T as h,Ut as g,Vt as _,Yn as v,an as y,d as b,f as x,fn as S,gn as C,ir as w,l as T,m as E,mn as D,nr as O,or as k,p as A,pn as j,sr as M,u as N,xn as P,z as F,zn as I,zt as L}from"./index-O7hvt5-X.js";var R=e=>{if(!e)return{onClick:O,onMousedown:O,onMouseup:O};let t=!1,n=!1;return{onClick:r=>{t&&n&&e(r),t=n=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{n=e.target===e.currentTarget}}},z=m({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:s([String,Array,Object])},zIndex:{type:s([String,Number])}}),B={click:e=>e instanceof MouseEvent},V=`overlay`,H=j({name:`ElOverlay`,props:z,emits:B,setup(e,{slots:t,emit:n}){let r=_(V),{onClick:i,onMousedown:a,onMouseup:s}=R(e.customMaskEvent?void 0:e=>{n(`click`,e)});return()=>e.mask?S(`div`,{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:a,onMouseup:s},[d(t,`default`)],o.STYLE|o.CLASS|o.PROPS,[`onClick`,`onMouseup`,`onMousedown`]):C(`div`,{class:e.overlayClass,style:{zIndex:e.zIndex,position:`fixed`,top:`0px`,right:`0px`,bottom:`0px`,left:`0px`}},[d(t,`default`)])}}),U=Symbol(`dialogInjectionKey`),W=`dialog-fade`,G=m({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:r},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:``},ariaLevel:{type:String,default:`2`}}),K={close:()=>!0},q=m({...G,appendToBody:Boolean,appendTo:{type:t.to.type,default:`body`},beforeClose:{type:s(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:`2`},transition:{type:s([String,Object]),default:void 0}}),J={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[n]:e=>F(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Y=(t,n={})=>{l(t)||e(`[useLockscreen]`,`You need to pass a ref param to this function`);let r=n.ns||_(`popup`),i=y(()=>r.bm(`parent`,`hidden`));if(!f||x(document.body,i.value))return;let o=0,s=!1,c=`0`,d=()=>{setTimeout(()=>{typeof document>`u`||s&&document&&(document.body.style.width=c,A(document.body,i.value))},200)};I(t,e=>{if(!e){d();return}s=!x(document.body,i.value),s&&(c=document.body.style.width,T(document.body,i.value)),o=a(r.namespace.value);let t=document.documentElement.clientHeight<document.body.scrollHeight,n=b(document.body,`overflowY`);o>0&&(t||n===`scroll`)&&s&&(document.body.style.width=`calc(100% - ${o}px)`)}),u(()=>d())},X=(e,t)=>{let r=D().emit,{nextZIndex:a}=h(),o=``,s=i(),l=i(),u=v(!1),d=v(!1),m=v(!1),g=v(e.zIndex??a()),_,b,x=E(),S=y(()=>x.value?.namespace??`el`),C=y(()=>x.value?.dialog),T=y(()=>{let t={},n=`--${S.value}-dialog`;return e.fullscreen||(e.top&&(t[`${n}-margin-top`]=e.top),e.width&&(t[`${n}-width`]=N(e.width))),t}),O=y(()=>(e.draggable??C.value?.draggable??!1)&&!e.fullscreen),A=y(()=>e.alignCenter??C.value?.alignCenter??!1),j=y(()=>e.overflow??C.value?.overflow??!1),F=y(()=>A.value?{display:`flex`}:{}),L=y(()=>{let t=e.transition??C.value?.transition??W,n={name:t,onAfterEnter:R,onBeforeLeave:B,onAfterLeave:z};if(M(t)){let e={...t},n=(e,t)=>n=>{w(e)?e.forEach(e=>{k(e)&&e(n)}):k(e)&&e(n),t()};return e.onAfterEnter=n(e.onAfterEnter,R),e.onBeforeLeave=n(e.onBeforeLeave,B),e.onAfterLeave=n(e.onAfterLeave,z),e.name||=W,e}return n});function R(){r(`opened`)}function z(){r(`closed`),r(n,!1),e.destroyOnClose&&(m.value=!1)}function B(){r(`close`)}function V(){b?.(),_?.(),e.openDelay&&e.openDelay>0?{stop:_}=p(()=>K(),e.openDelay):K()}function H(){_?.(),b?.(),e.closeDelay&&e.closeDelay>0?{stop:b}=p(()=>q(),e.closeDelay):q()}function U(){function t(e){e||(d.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(t):H()}function G(){e.closeOnClickModal&&U()}function K(){f&&(u.value=!0)}function q(){u.value=!1}function J(){r(`openAutoFocus`)}function X(){r(`closeAutoFocus`)}function Z(e){e.detail?.focusReason===`pointer`&&e.preventDefault()}e.lockScroll&&Y(u);function Q(){e.closeOnPressEscape&&U()}return I(()=>e.zIndex,()=>{g.value=e.zIndex??a()}),I(()=>e.modelValue,n=>{n?(d.value=!1,V(),m.value=!0,g.value=e.zIndex??a(),P(()=>{r(`open`),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):u.value&&H()}),I(()=>e.fullscreen,e=>{t.value&&(e?(o=t.value.style.transform,t.value.style.transform=``):t.value.style.transform=o)}),c(()=>{e.modelValue&&(u.value=!0,m.value=!0,V())}),{afterEnter:R,afterLeave:z,beforeLeave:B,handleClose:U,onModalClick:G,close:H,doClose:q,onOpenAutoFocus:J,onCloseAutoFocus:X,onCloseRequested:Q,onFocusoutPrevented:Z,titleId:s,bodyId:l,closed:d,style:T,overlayDialogStyle:F,rendered:m,visible:u,zIndex:g,transitionConfig:L,_draggable:O,_alignCenter:A,_overflow:j}};const Z=g(`Plugins`,()=>{let e=v([]),t=v([]);function n(t){e.value=e.value.filter(e=>e.modelValue);let n=t.id??Date.now().toString();return e.value.push({...t,id:n,modelValue:!0}),n}function r(t){let n=e.value.findIndex(e=>e.id===t);e.value[n]={...e.value[n],modelValue:!1}}function i(){e.value=[]}function a(e){t.value=t.value.filter(e=>e.modelValue);let n=e.id??Date.now().toString(),r=!!e.title,i=`${e.bodyClass??``} drawer-body-padding`;return t.value.push({...e,id:n,modelValue:!0,withHeader:r,bodyClass:i}),n}function o(e){let n=t.value.findIndex(t=>t.id===e);t.value[n]={...t.value[n],modelValue:!1}}function s(){t.value=[]}return{dialogs:e,openDialog:n,closeDialog:r,clearDialogs:i,drawers:t,openDrawer:a,closeDrawer:o,clearDrawers:s}});export{K as a,H as c,q as i,R as l,X as n,G as o,J as r,U as s,Z as t};