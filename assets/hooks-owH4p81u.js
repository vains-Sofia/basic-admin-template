import{Mr as e,Nr as t,n,ri as r,t as i}from"./index-DkS91mYz.js";function a(a,o,s){let c=r(!1),l=n(),u=()=>{a.value&&a.value.validate(e=>{e&&(c.value=!0,l.login(s,o).then(()=>{l.initRouter(),l.setupUser({username:`admin`,nickname:`云逸-e`}),i.replace({name:`Dashboard`}).then(()=>console.log(`跳转首页`))}).finally(()=>c.value=!1))})},d=e=>{e.key===`Enter`&&u()};return e(()=>{window.addEventListener(`keydown`,d)}),t(()=>{window.removeEventListener(`keydown`,d)}),{onLogin:u,loading:c}}export{a as t};