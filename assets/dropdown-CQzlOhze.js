import{l as e}from"./aria-CIJ92hv4.js";import{a as t,f as n,g as r,m as i,o as a,p as o,t as s}from"./tooltip-CjK7pdb5.js";import{M as c,N as l,a as u,h as d,t as f,u as p}from"./button-OiLMmw4m.js";import{a as m,c as h,d as g,i as _,l as v,n as y,o as b,r as x,s as S,t as C,u as w}from"./dropdown-Blgc83it.js";import{$t as T,An as E,C as D,Fn as O,Jn as k,Mn as A,Nn as j,O as M,Qn as N,S as ee,Vn as P,Vt as F,Yn as I,an as L,bn as R,c as te,cn as z,dr as B,fn as V,fr as ne,hn as re,kn as H,ln as U,mn as W,o as ie,on as ae,or as oe,pn as G,pr as se,sn as K,tn as ce,tr as q,u as le,un as ue,vn as J,w as de,xn as fe,zn as pe}from"./index-O7hvt5-X.js";var Y=(...e)=>t=>{e.forEach(e=>{oe(e)?e(t):e.value=t})},me=ee({style:{type:D([String,Array,Object])},currentTabId:{type:D(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:[`ltr`,`rtl`],default:`ltr`},orientation:{type:D(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:he,ElCollectionItem:ge,COLLECTION_INJECTION_KEY:X,COLLECTION_ITEM_INJECTION_KEY:_e}=g(`RovingFocusGroup`),Z=Symbol(`elRovingFocusGroup`),ve=Symbol(`elRovingFocusGroupItem`),ye={ArrowLeft:`prev`,ArrowUp:`prev`,ArrowRight:`next`,ArrowDown:`next`,PageUp:`first`,Home:`first`,PageDown:`last`,End:`last`},be=(e,t)=>{if(t!==`rtl`)return e;switch(e){case n.right:return n.left;case n.left:return n.right;default:return e}},xe=(e,t,r)=>{let i=be(e.code,r);if(!(t===`vertical`&&[n.left,n.right].includes(i))&&!(t===`horizontal`&&[n.up,n.down].includes(i)))return ye[i]},Se=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),Q=e=>{let{activeElement:t}=document;for(let n of e)if(n===t||(n.focus(),t!==document.activeElement))return},Ce=`currentTabIdChange`,we=`rovingFocusGroup.entryFocus`,Te={bubbles:!1,cancelable:!0},Ee=G({name:`ElRovingFocusGroupImpl`,inheritAttrs:!1,props:me,emits:[Ce,`entryFocus`],setup(e,{emit:n}){let r=I((e.currentTabId||e.defaultCurrentTabId)??null),i=I(!1),a=I(!1),o=I(),{getItems:s}=J(X,void 0),c=L(()=>[{outline:`none`},e.style]),l=e=>{n(Ce,e)},u=()=>{i.value=!0},d=t(t=>{var n;(n=e.onMousedown)==null||n.call(e,t)},()=>{a.value=!0}),f=t(t=>{var n;(n=e.onFocus)==null||n.call(e,t)},e=>{let t=!q(a),{target:n,currentTarget:o}=e;if(n===o&&t&&!q(i)){let e=new Event(we,Te);if(o?.dispatchEvent(e),!e.defaultPrevented){let e=s().filter(e=>e.focusable);Q([e.find(e=>e.active),e.find(e=>e.id===q(r)),...e].filter(Boolean).map(e=>e.ref))}}a.value=!1}),p=t(t=>{var n;(n=e.onBlur)==null||n.call(e,t)},()=>{i.value=!1});E(Z,{currentTabbedId:k(r),loop:N(e,`loop`),tabIndex:L(()=>q(i)?-1:0),rovingFocusGroupRef:o,rovingFocusGroupRootStyle:c,orientation:N(e,`orientation`),dir:N(e,`dir`),onItemFocus:l,onItemShiftTab:u,onBlur:p,onFocus:f,onMousedown:d}),pe(()=>e.currentTabId,e=>{r.value=e??null}),M(o,we,(...e)=>{n(`entryFocus`,...e)})}});function De(e,t,n,r,i,a){return A(e.$slots,`default`)}var Oe=G({name:`ElRovingFocusGroup`,components:{ElFocusGroupCollection:he,ElRovingFocusGroupImpl:l(Ee,[[`render`,De],[`__file`,`roving-focus-group-impl.vue`]])}});function ke(e,t,n,r,i,a){let o=j(`el-roving-focus-group-impl`),s=j(`el-focus-group-collection`);return H(),K(s,null,{default:P(()=>[V(o,ne(re(e.$attrs)),{default:P(()=>[A(e.$slots,`default`)]),_:3},16)]),_:3})}var Ae=l(Oe,[[`render`,ke],[`__file`,`roving-focus-group.vue`]]),$=Symbol(`elDropdown`),je=`elDropdown`,{ButtonGroup:Me}=f,Ne=G({name:`ElDropdown`,components:{ElButton:f,ElButtonGroup:Me,ElScrollbar:r,ElDropdownCollection:x,ElTooltip:s,ElRovingFocusGroup:Ae,ElOnlyChild:i,ElIcon:c,ArrowDown:d},props:v,emits:[`visible-change`,`click`,`command`],setup(t,{emit:n}){let r=W(),i=F(`dropdown`),{t:a}=de(),o=I(),s=I(),c=I(),l=I(),d=I(null),f=I(null),m=I(!1),h=L(()=>({maxHeight:le(t.maxHeight)})),g=L(()=>[i.m(C.value)]),_=L(()=>e(t.trigger)),v=p().value,y=L(()=>t.id||v);function b(){var e;(e=c.value)==null||e.onClose(void 0,0)}function x(){var e;(e=c.value)==null||e.onClose()}function S(){var e;(e=c.value)==null||e.onOpen()}let C=u();function w(...e){n(`command`,...e)}function T(){}function D(){let e=q(l);_.value.includes(`hover`)&&e?.focus({preventScroll:!0}),f.value=null}function O(e){f.value=e}function k(e){m.value||(e.preventDefault(),e.stopImmediatePropagation())}function A(){n(`visible-change`,!0)}function j(e){var t;e?.type===`keydown`&&((t=l.value)==null||t.focus())}function M(){n(`visible-change`,!1)}return E($,{contentRef:l,role:L(()=>t.role),triggerId:y,isUsingKeyboard:m,onItemEnter:T,onItemLeave:D}),E(je,{instance:r,dropdownSize:C,handleClick:b,commandHandler:w,trigger:N(t,`trigger`),hideOnClick:N(t,`hideOnClick`)}),{t:a,ns:i,scrollbar:d,wrapStyle:h,dropdownTriggerKls:g,dropdownSize:C,triggerId:y,currentTabId:f,handleCurrentTabIdChange:O,handlerMainButtonClick:e=>{n(`click`,e)},handleEntryFocus:k,handleClose:x,handleOpen:S,handleBeforeShowTooltip:A,handleShowTooltip:j,handleBeforeHideTooltip:M,onFocusAfterTrapped:e=>{var t,n;e.preventDefault(),(n=(t=l.value)?.focus)==null||n.call(t,{preventScroll:!0})},popperRef:c,contentRef:l,triggeringElementRef:o,referenceElementRef:s}}});function Pe(e,t,n,r,i,a){let o=j(`el-dropdown-collection`),s=j(`el-roving-focus-group`),c=j(`el-scrollbar`),l=j(`el-only-child`),u=j(`el-tooltip`),d=j(`el-button`),f=j(`arrow-down`),p=j(`el-icon`),m=j(`el-button-group`);return H(),U(`div`,{class:B([e.ns.b(),e.ns.is(`disabled`,e.disabled)])},[V(u,{ref:`popperRef`,role:e.role,effect:e.effect,"fallback-placements":[`bottom`,`top`],"popper-options":e.popperOptions,"gpu-acceleration":!1,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e(`popper`),e.popperClass],"reference-element":e.referenceElementRef?.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-arrow":e.showArrow,"show-after":e.trigger===`hover`?e.showTimeout:0,"hide-after":e.trigger===`hover`?e.hideTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.virtualRef??e.triggeringElementRef,"virtual-triggering":e.virtualTriggering||e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:``,"focus-on-target":``,persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},ue({content:P(()=>[V(c,{ref:`scrollbar`,"wrap-style":e.wrapStyle,tag:`div`,"view-class":e.ns.e(`list`)},{default:P(()=>[V(s,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:`horizontal`,onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:P(()=>[V(o,null,{default:P(()=>[A(e.$slots,`dropdown`)]),_:3})]),_:3},8,[`loop`,`current-tab-id`,`onCurrentTabIdChange`,`onEntryFocus`])]),_:3},8,[`wrap-style`,`view-class`])]),_:2},[e.splitButton?void 0:{name:`default`,fn:P(()=>[V(l,{id:e.triggerId,ref:`triggeringElementRef`,role:`button`,tabindex:e.tabindex},{default:P(()=>[A(e.$slots,`default`)]),_:3},8,[`id`,`tabindex`])])}]),1032,[`role`,`effect`,`popper-options`,`placement`,`popper-class`,`reference-element`,`trigger`,`trigger-keys`,`trigger-target-el`,`show-arrow`,`show-after`,`hide-after`,`virtual-ref`,`virtual-triggering`,`disabled`,`transition`,`teleported`,`persistent`,`onBeforeShow`,`onShow`,`onBeforeHide`]),e.splitButton?(H(),K(m,{key:0},{default:P(()=>[V(d,R({ref:`referenceElementRef`},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:P(()=>[A(e.$slots,`default`)]),_:3},16,[`size`,`type`,`disabled`,`tabindex`,`onClick`]),V(d,R({id:e.triggerId,ref:`triggeringElementRef`},e.buttonProps,{role:`button`,size:e.dropdownSize,type:e.type,class:e.ns.e(`caret-button`),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t(`el.dropdown.toggleDropdown`)}),{default:P(()=>[V(p,{class:B(e.ns.e(`icon`))},{default:P(()=>[V(f)]),_:1},8,[`class`])]),_:1},16,[`id`,`size`,`type`,`class`,`disabled`,`tabindex`,`aria-label`])]),_:3})):z(`v-if`,!0)],2)}var Fe=l(Ne,[[`render`,Pe],[`__file`,`dropdown.vue`]]),Ie=G({components:{ElRovingFocusCollectionItem:ge},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:[`mousedown`,`focus`,`keydown`],setup(e,{emit:r}){let{currentTabbedId:i,loop:a,onItemFocus:o,onItemShiftTab:s}=J(Z,void 0),{getItems:c}=J(X,void 0),l=p(),u=I(),d=t(e=>{r(`mousedown`,e)},t=>{e.focusable?o(q(l)):t.preventDefault()}),f=t(e=>{r(`focus`,e)},()=>{o(q(l))}),m=t(e=>{r(`keydown`,e)},e=>{let{code:t,shiftKey:r,target:i,currentTarget:o}=e;if(t===n.tab&&r){s();return}if(i!==o)return;let l=xe(e);if(l){e.preventDefault();let t=c().filter(e=>e.focusable).map(e=>e.ref);switch(l){case`last`:t.reverse();break;case`prev`:case`next`:{l===`prev`&&t.reverse();let e=t.indexOf(o);t=a.value?Se(t,e+1):t.slice(e+1);break}}fe(()=>{Q(t)})}}),h=L(()=>i.value===q(l));return E(ve,{rovingFocusGroupItemRef:u,tabIndex:L(()=>q(h)?0:-1),handleMousedown:d,handleFocus:f,handleKeydown:m}),{id:l,handleKeydown:m,handleFocus:f,handleMousedown:d}}});function Le(e,t,n,r,i,a){let o=j(`el-roving-focus-collection-item`);return H(),K(o,{id:e.id,focusable:e.focusable,active:e.active},{default:P(()=>[A(e.$slots,`default`)]),_:3},8,[`id`,`focusable`,`active`])}var Re=l(Ie,[[`render`,Le],[`__file`,`roving-focus-item.vue`]]),ze=G({name:`DropdownItemImpl`,components:{ElIcon:c},props:S,emits:[`pointermove`,`pointerleave`,`click`,`clickimpl`],setup(e,{emit:r}){let i=F(`dropdown`),{role:a}=J($,void 0),{collectionItemRef:o}=J(y,void 0),{collectionItemRef:s}=J(_e,void 0),{rovingFocusGroupItemRef:c,tabIndex:l,handleFocus:u,handleKeydown:d,handleMousedown:f}=J(ve,void 0),p=Y(o,s,c),m=L(()=>a.value===`menu`?`menuitem`:a.value===`navigation`?`link`:`button`),h=t(e=>{if([n.enter,n.numpadEnter,n.space].includes(e.code))return e.preventDefault(),e.stopImmediatePropagation(),r(`clickimpl`,e),!0},d);return{ns:i,itemRef:p,dataset:{[w]:``},role:m,tabIndex:l,handleFocus:u,handleKeydown:h,handleMousedown:f}}});function Be(e,t,n,r,i,a){let o=j(`el-icon`);return H(),U(ce,null,[e.divided?(H(),U(`li`,{key:0,role:`separator`,class:B(e.ns.bem(`menu`,`item`,`divided`))},null,2)):z(`v-if`,!0),ae(`li`,R({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be(`menu`,`item`),e.ns.is(`disabled`,e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t=>e.$emit(`clickimpl`,t),onFocus:e.handleFocus,onKeydown:T(e.handleKeydown,[`self`]),onMousedown:e.handleMousedown,onPointermove:t=>e.$emit(`pointermove`,t),onPointerleave:t=>e.$emit(`pointerleave`,t)}),[e.icon?(H(),K(o,{key:0},{default:P(()=>[(H(),K(O(e.icon)))]),_:1})):z(`v-if`,!0),A(e.$slots,`default`)],16,[`aria-disabled`,`tabindex`,`role`,`onClick`,`onFocus`,`onKeydown`,`onMousedown`,`onPointermove`,`onPointerleave`])],64)}var Ve=l(ze,[[`render`,Be],[`__file`,`dropdown-item-impl.vue`]]),He=()=>{let e=J(je,{});return{elDropdown:e,_elDropdownSize:L(()=>e?.dropdownSize)}},Ue=G({name:`ElDropdownItem`,components:{ElDropdownCollectionItem:_,ElRovingFocusItem:Re,ElDropdownItemImpl:Ve},inheritAttrs:!1,props:S,emits:[`pointermove`,`pointerleave`,`click`],setup(e,{emit:n,attrs:r}){let{elDropdown:i}=He(),o=W(),s=I(null),c=L(()=>q(s)?.textContent??``),{onItemEnter:l,onItemLeave:u}=J($,void 0),d=t(e=>(n(`pointermove`,e),e.defaultPrevented),a(t=>{if(e.disabled){u(t);return}let n=t.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(l(t),t.defaultPrevented||n?.focus({preventScroll:!0}))})),f=t(e=>(n(`pointerleave`,e),e.defaultPrevented),a(u));return{handleClick:t(t=>{if(!e.disabled)return n(`click`,t),t.type!==`keydown`&&t.defaultPrevented},t=>{var n,r;if(e.disabled){t.stopImmediatePropagation();return}i?.hideOnClick?.value&&((n=i.handleClick)==null||n.call(i)),(r=i.commandHandler)==null||r.call(i,e.command,o,t)}),handlePointerMove:d,handlePointerLeave:f,textContent:c,propsAndAttrs:L(()=>({...e,...r}))}}});function We(e,t,n,r,i,a){let o=j(`el-dropdown-item-impl`),s=j(`el-roving-focus-item`),c=j(`el-dropdown-collection-item`);return H(),K(c,{disabled:e.disabled,"text-value":e.textValue??e.textContent},{default:P(()=>[V(s,{focusable:!e.disabled},{default:P(()=>[V(o,R(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:P(()=>[A(e.$slots,`default`)]),_:3},16,[`onPointerleave`,`onPointermove`,`onClickimpl`])]),_:3},8,[`focusable`])]),_:3},8,[`disabled`,`text-value`])}var Ge=l(Ue,[[`render`,We],[`__file`,`dropdown-item.vue`]]),Ke=G({name:`ElDropdownMenu`,props:h,setup(e){let r=F(`dropdown`),{_elDropdownSize:i}=He(),a=i.value,{focusTrapRef:s,onKeydown:c}=J(o,void 0),{contentRef:l,role:u,triggerId:d}=J($,void 0),{collectionRef:f,getItems:p}=J(C,void 0),{rovingFocusGroupRef:h,rovingFocusGroupRootStyle:g,tabIndex:_,onBlur:v,onFocus:y,onMousedown:x}=J(Z,void 0),{collectionRef:S}=J(X,void 0),w=L(()=>[r.b(`menu`),r.bm(`menu`,a?.value)]),T=Y(l,f,s,h,S),E=t(t=>{var n;(n=e.onKeydown)==null||n.call(e,t)},e=>{let{currentTarget:t,code:r,target:i}=e;if(t.contains(i),n.tab===r&&e.stopImmediatePropagation(),e.preventDefault(),i!==q(l)||!m.includes(r))return;let a=p().filter(e=>!e.disabled).map(e=>e.ref);b.includes(r)&&a.reverse(),Q(a)});return{size:a,rovingFocusGroupRootStyle:g,tabIndex:_,dropdownKls:w,role:u,triggerId:d,dropdownListWrapperRef:T,handleKeydown:e=>{E(e),c(e)},onBlur:v,onFocus:y,onMousedown:x}}});function qe(e,t,n,r,i,a){return H(),U(`ul`,{ref:e.dropdownListWrapperRef,class:B(e.dropdownKls),style:se(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:T(e.handleKeydown,[`self`]),onMousedown:T(e.onMousedown,[`self`])},[A(e.$slots,`default`)],46,[`role`,`aria-labelledby`,`onBlur`,`onFocus`,`onKeydown`,`onMousedown`])}var Je=l(Ke,[[`render`,qe],[`__file`,`dropdown-menu.vue`]]),Ye=ie(Fe,{DropdownItem:Ge,DropdownMenu:Je}),Xe=te(Ge),Ze=te(Je);export{Y as i,Xe as n,Ze as r,Ye as t};