import{t as e}from"./css-BxD6NdqY.js";import{t}from"./css-_IYeStbW.js";import{Fr as n,Lr as r,Mr as i,Tr as a,Vi as o,Vr as s,_r as c,fr as l,gr as u,kr as d,mr as f,or as p,pr as m,qi as h,qr as g,ri as _,ui as v,vr as y}from"./index-DkS91mYz.js";import{t as b}from"./Plugins-t28lUS8u.js";var x={key:0},S={key:0},C=y({__name:`index`,setup(h){let y=b(),C=_({}),w=(e,t)=>{t?.(),y.closeDialog(e.id)},T=e=>{let t=Date.now().toString();e.confirmLoading&&(C.value[e.id??t]=!0),e.onConfirm&&e.onConfirm(()=>{y.closeDialog(e.id),C.value[e.id??t]=!1,delete C.value[e.id??t]},()=>{C.value[e.id??t]=!1,delete C.value[e.id??t]})},E=()=>{y.clearDialogs()};return i(()=>{window.addEventListener(`beforeunload`,E)}),d(()=>{window.removeEventListener(`beforeunload`,E)}),(i,d)=>{let h=e,_=t;return n(!0),f(p,null,r(v(y).dialogs,e=>(n(),l(_,a({key:e.id},{ref_for:!0},e,{modelValue:e.modelValue,"onUpdate:modelValue":t=>e.modelValue=t,onClose:t=>w(e,e.onCancel)}),{default:g(()=>[typeof e.content==`string`?(n(),f(`div`,x,o(e.content),1)):typeof e.content==`function`?(n(),l(s(e.content()),a({key:1,ref_for:!0},e.props),null,16)):(n(),l(s(e.content),a({key:2,ref_for:!0},e.props),null,16))]),footer:g(()=>[e.footerRenderer?(n(),f(p,{key:0},[typeof e.footerRenderer==`string`?(n(),f(`div`,S,o(e.footerRenderer),1)):typeof e.footerRenderer==`function`?(n(),l(s(e.footerRenderer({confirm:()=>T(e),close:()=>w(e,e.onCancel),closeLoading:()=>{let t=e.id??Date.now().toString();C.value[t]=!1,delete C.value[t]},item:e,loading:C.value[e.id??Date.now()]})),{key:1})):(n(),l(s(e.footerRenderer),{key:2}))],64)):e.hideFooter?m(``,!0):(n(),f(p,{key:1},[c(h,{onClick:t=>w(e,e.onCancel)},{default:g(()=>[u(o(e.cancelText||`取消`),1)]),_:2},1032,[`onClick`]),c(h,{type:`primary`,loading:C.value[e.id??new Date().getTime()],onClick:t=>T(e)},{default:g(()=>[u(o(e.confirmText||`确认`),1)]),_:2},1032,[`loading`,`onClick`])],64))]),_:2},1040,[`modelValue`,`onUpdate:modelValue`,`onClose`]))),128)}}}),w=b(),T=e=>w.openDialog(e),E=C;export{T as n,E as t};