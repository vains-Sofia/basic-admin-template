import{t as e}from"./debounce-Bnsqan9y.js";import{i as t}from"./css-Ck0iJ8jv.js";import{i as n}from"./use-aria-CMjMJ4AS.js";import{p as r,t as i}from"./tooltip-9mLRp4o_.js";import{a,i as o,t as s}from"./scroll-C0Dofiz-.js";import{t as c}from"./css-BxD6NdqY.js";import{n as l,t as u}from"./css-Vt_9vyhI.js";import{t as d}from"./css-BPcc1NG5.js";import{t as f}from"./css-0gi3Cdff.js";import{t as p}from"./css-DUS9RPa_.js";import{_ as m,a as h,c as g,d as _,f as v,g as y,h as b,i as x,l as S,m as C,n as w,o as T,p as E,r as D,s as O,t as k,u as A,v as ee}from"./defaults-CFOAVHEa.js";import{Ci as j,Cr as M,Dr as te,Ei as N,Er as P,Et as ne,Fr as re,Ft as ie,Gn as ae,Gr as F,Gt as I,H as oe,Ir as L,Jr as R,Mi as se,Mr as ce,Pr as le,Rr as ue,Tr as z,V as de,Vi as fe,Vr as pe,X as me,Y as he,_r as B,_t as V,bi as H,d as ge,dr as _e,fn as ve,gn as ye,gr as U,ii as be,ir as xe,kr as Se,kt as Ce,l as W,mr as we,nt as Te,o as Ee,oi as De,or as Oe,qi as ke,qr as Ae,qt as je,ri as G,ti as Me,ui as K,ur as q,vi as Ne,vr as J,vt as Y,wr as Pe,xr as X,y as Fe,yi as Z,yr as Ie,yt as Q}from"./index-DkS91mYz.js";import{n as Le}from"./TextTooltip-DA9oG881.js";import{r as Re,t as ze}from"./Common-D8JbtDdr.js";var Be=Number.isNaN||function(e){return typeof e==`number`&&e!==e};function Ve(e,t){return!!(e===t||Be(e)&&Be(t))}function He(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ve(e[n],t[n]))return!1;return!0}function Ue(e,t){t===void 0&&(t=He);var n=null;function r(){var r=[...arguments];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}var We=()=>{let e=Ie().proxy.$props;return q(()=>{let t=(e,t,n)=>({});return e.perfMode?ye(t):Ue(t)})},Ge=V({type:Q([Number,Function]),required:!0}),Ke=V({type:Number}),qe=V({type:Number,default:2}),Je=V({type:String,values:[`ltr`,`rtl`],default:`ltr`}),Ye=V({type:Number,default:0}),Xe=V({type:Number,required:!0}),Ze=V({type:String,values:[`horizontal`,`vertical`],default:ee}),Qe=Y({className:{type:String,default:``},containerElement:{type:Q([String,Object]),default:`div`},data:{type:Q(Array),default:()=>ge([])},direction:Je,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:`div`},style:{type:Q([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),$e=Y({cache:qe,estimatedItemSize:Ke,layout:Ze,initScrollOffset:Ye,total:Xe,itemSize:Ge,...Qe}),et={type:Number,default:6},tt={type:Number,default:0},nt={type:Number,default:2},rt=Y({columnCache:qe,columnWidth:Ge,estimatedColumnWidth:Ke,estimatedRowHeight:Ke,initScrollLeft:Ye,initScrollTop:Ye,itemKey:{type:Q(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:qe,rowHeight:Ge,totalColumn:Xe,totalRow:Xe,hScrollbarSize:et,vScrollbarSize:et,scrollbarStartGap:tt,scrollbarEndGap:nt,role:String,...Qe}),it=Y({alwaysOn:Boolean,class:String,layout:Ze,total:Xe,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:et,startGap:tt,endGap:nt,visible:Boolean}),at=(e,t)=>e<t?T:w,ot=e=>e===`rtl`,st=null;function ct(e=!1){if(st===null||e){let e=document.createElement(`div`),t=e.style;t.width=`50px`,t.height=`50px`,t.overflow=`scroll`,t.direction=`rtl`;let n=document.createElement(`div`),r=n.style;return r.width=`100px`,r.height=`100px`,e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?st=v:(e.scrollLeft=1,st=e.scrollLeft===0?A:_),document.body.removeChild(e),st}return st}function lt({move:e,size:t,bar:n},r){let i={},a=`translate${n.axis}(${e}px)`;return i[n.size]=t,i.transform=a,r===`horizontal`?i.height=`100%`:i.width=`100%`,i}var ut=J({name:`ElVirtualScrollBar`,props:it,emits:[`scroll`,`start-move`,`stop-move`],setup(e,{emit:t}){let n=q(()=>e.startGap+e.endGap),i=ae(`virtual-scrollbar`),s=ae(`scrollbar`),c=G(),l=G(),u=null,d=null,f=Me({isDragging:!1,traveled:0}),p=q(()=>r[e.layout]),h=q(()=>e.clientSize-K(n)),g=q(()=>({position:`absolute`,width:`${e.layout===`horizontal`?h.value:e.scrollbarSize}px`,height:`${e.layout===`horizontal`?e.scrollbarSize:h.value}px`,[m[e.layout]]:`2px`,right:`2px`,bottom:`2px`,borderRadius:`4px`})),_=q(()=>{let t=e.ratio;if(t>=100)return 1/0;if(t>=50)return t*h.value/100;let n=h.value/3;return Math.floor(Math.min(Math.max(t*h.value/100,20),n))}),v=q(()=>{if(!Number.isFinite(_.value))return{display:`none`};let t=`${_.value}px`;return lt({bar:p.value,size:t,move:f.traveled},e.layout)}),y=q(()=>Math.ceil(e.clientSize-_.value-K(n))),b=()=>{window.addEventListener(`mousemove`,w),window.addEventListener(`mouseup`,C);let e=K(l);e&&(d=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener(`touchmove`,w,{passive:!0}),e.addEventListener(`touchend`,C))},x=()=>{window.removeEventListener(`mousemove`,w),window.removeEventListener(`mouseup`,C),document.onselectstart=d,d=null;let e=K(l);e&&(e.removeEventListener(`touchmove`,w),e.removeEventListener(`touchend`,C))},S=e=>{e.stopImmediatePropagation(),!(e.ctrlKey||[1,2].includes(e.button))&&(f.isDragging=!0,f[p.value.axis]=e.currentTarget[p.value.offset]-(e[p.value.client]-e.currentTarget.getBoundingClientRect()[p.value.direction]),t(`start-move`),b())},C=()=>{f.isDragging=!1,f[p.value.axis]=0,t(`stop-move`),x()},w=e=>{let{isDragging:n}=f;if(!n||!l.value||!c.value)return;let r=f[p.value.axis];if(!r)return;o(u);let i=(c.value.getBoundingClientRect()[p.value.direction]-e[p.value.client])*-1-(l.value[p.value.offset]-r);u=a(()=>{f.traveled=Math.max(0,Math.min(i,y.value)),t(`scroll`,i,y.value)})},T=e=>{let n=Math.abs(e.target.getBoundingClientRect()[p.value.direction]-e[p.value.client])-l.value[p.value.offset]/2;f.traveled=Math.max(0,Math.min(n,y.value)),t(`scroll`,n,y.value)};return F(()=>e.scrollFrom,e=>{f.isDragging||(f.traveled=Math.ceil(e*y.value))}),Se(()=>{x()}),()=>X(`div`,{role:`presentation`,ref:c,class:[i.b(),e.class,(e.alwaysOn||f.isDragging)&&`always-on`],style:g.value,onMousedown:xe(T,[`stop`,`prevent`]),onTouchstartPrevent:S},X(`div`,{ref:l,class:s.e(`thumb`),style:v.value,onMousedown:S},[]))}}),dt=(e=>(e.ASC=`asc`,e.DESC=`desc`,e))(dt||{}),ft=(e=>(e.LEFT=`left`,e.CENTER=`center`,e.RIGHT=`right`,e))(ft||{}),pt=(e=>(e.LEFT=`left`,e.RIGHT=`right`,e))(pt||{}),mt={asc:`desc`,desc:`asc`},ht=Symbol(`placeholder`),gt=(e,t,n)=>{let r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(r.flexShrink=1);let i={...e.style??{},...r,flexBasis:`auto`,width:e.width};return t||(e.maxWidth&&(i.maxWidth=e.maxWidth),e.minWidth&&(i.minWidth=e.minWidth)),i};Z();function _t(e,t,n){let r=q(()=>K(t).map((e,t)=>({...e,key:e.key??e.dataKey??t}))),i=q(()=>K(r).filter(e=>!e.hidden)),a=q(()=>K(i).filter(e=>e.fixed===`left`||e.fixed===!0)),o=q(()=>K(i).filter(e=>e.fixed===`right`)),s=q(()=>K(i).filter(e=>!e.fixed)),c=q(()=>{let e=[];return K(a).forEach(t=>{e.push({...t,placeholderSign:ht})}),K(s).forEach(t=>{e.push(t)}),K(o).forEach(t=>{e.push({...t,placeholderSign:ht})}),e}),l=q(()=>K(a).length||K(o).length),u=q(()=>K(r).reduce((t,r)=>(t[r.key]=gt(r,K(n),e.fixed),t),{})),d=q(()=>K(i).reduce((e,t)=>e+t.width,0)),f=e=>K(r).find(t=>t.key===e),p=e=>K(u)[e],m=(e,t)=>{e.width=t};function h(t){var n;let{key:r}=t.currentTarget.dataset;if(!r)return;let{sortState:i,sortBy:a}=e,o=dt.ASC;o=N(i)?mt[i[r]]:mt[a.order],(n=e.onColumnSort)==null||n.call(e,{column:f(r),key:r,order:o})}return{columns:r,columnsStyles:u,columnsTotalWidth:d,fixedColumnsOnLeft:a,fixedColumnsOnRight:o,hasFixedColumns:l,mainColumns:c,normalColumns:s,visibleColumns:i,getColumn:f,getColumnStyle:p,updateColumnWidth:m,onColumnSorted:h}}var vt=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:i})=>{let a=G({scrollLeft:0,scrollTop:0});function o(e){var i,a,o;let{scrollTop:s}=e;(i=t.value)==null||i.scrollTo(e),(a=n.value)==null||a.scrollToTop(s),(o=r.value)==null||o.scrollToTop(s)}function s(e){a.value=e,o(e)}function c(e){a.value.scrollTop=e,o(K(a))}function l(e){var n,r;a.value.scrollLeft=e,(r=(n=t.value)?.scrollTo)==null||r.call(n,K(a))}function u(t){var n;s(t),(n=e.onScroll)==null||n.call(e,t)}function d({scrollTop:e}){let{scrollTop:t}=K(a);e!==t&&c(e)}function f(e,n=`auto`){var r;(r=t.value)==null||r.scrollToRow(e,n)}return F(()=>K(a).scrollTop,(e,t)=>{e>t&&i()}),{scrollPos:a,scrollTo:s,scrollToLeft:l,scrollToTop:c,scrollToRow:f,onScroll:u,onVerticalScroll:d}},yt=(t,{mainTableRef:n,leftTableRef:r,rightTableRef:i,tableInstance:a,ns:o,isScrolling:s})=>{let c=Ie(),{emit:l}=c,u=be(!1),d=G(t.defaultExpandedRowKeys||[]),f=G(-1),p=be(null),m=G({}),h=G({}),g=be({}),_=be({}),v=be({}),y=q(()=>I(t.estimatedRowHeight));function b(e){var n;(n=t.onRowsRendered)==null||n.call(t,e),e.rowCacheEnd>K(f)&&(f.value=e.rowCacheEnd)}function x({hovered:e,rowKey:t}){s.value||a.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach(t=>{e?t.classList.add(o.is(`hovered`)):t.classList.remove(o.is(`hovered`))})}function S({expanded:e,rowData:n,rowIndex:r,rowKey:i}){var s,c;let u=[...K(d)],f=u.indexOf(i);e?f===-1&&u.push(i):f>-1&&u.splice(f,1),d.value=u,l(`update:expandedRowKeys`,u),(s=t.onRowExpand)==null||s.call(t,{expanded:e,rowData:n,rowIndex:r,rowKey:i}),(c=t.onExpandedRowsChange)==null||c.call(t,u),a.vnode.el.querySelector(`.${o.is(`hovered`)}[rowkey="${String(i)}"]`)&&P(()=>x({hovered:!0,rowKey:i}))}let C=e(()=>{var e,t,a,o;u.value=!0,m.value={...K(m),...K(h)},w(K(p),!1),h.value={},p.value=null,(e=n.value)==null||e.forceUpdate(),(t=r.value)==null||t.forceUpdate(),(a=i.value)==null||a.forceUpdate(),(o=c.proxy)==null||o.$forceUpdate(),u.value=!1},0);function w(e,t=!1){K(y)&&[n,r,i].forEach(n=>{let r=K(n);r&&r.resetAfterRowIndex(e,t)})}function T(e,t,n){let r=K(p);(r===null||r>n)&&(p.value=n),h.value[e]=t}function E({rowKey:e,height:t,rowIndex:n},r){r?r===pt.RIGHT?v.value[e]=t:g.value[e]=t:_.value[e]=t;let i=Math.max(...[g,v,_].map(t=>t.value[e]||0));K(m)[e]!==i&&(T(e,i,n),C())}return{expandedRowKeys:d,lastRenderedRowIndex:f,isDynamic:y,isResetting:u,rowHeights:m,resetAfterIndex:w,onRowExpanded:S,onRowHovered:x,onRowsRendered:b,onRowHeightChange:E}};Z();var bt=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{let i=G({}),a=q(()=>{let n={},{data:r,rowKey:a}=e,o=K(t);if(!o||!o.length)return r;let s=[],c=new Set;o.forEach(e=>c.add(e));let l=r.slice();for(l.forEach(e=>n[e[a]]=0);l.length>0;){let e=l.shift();s.push(e),c.has(e[a])&&H(e.children)&&e.children.length>0&&(l=[...e.children,...l],e.children.forEach(t=>n[t[a]]=n[e[a]]+1))}return i.value=n,s}),o=q(()=>{let{data:t,expandColumnKey:n}=e;return n?K(a):t});return F(o,(e,t)=>{e!==t&&(n.value=-1,r(0,!0))}),{data:o,depthMap:i}};Z();var xt=(e,t)=>e+t,St=e=>H(e)?e.reduce(xt,0):e,Ct=(e,t,n={})=>j(e)?e(t):e??n,wt=e=>([`width`,`maxWidth`,`minWidth`,`height`].forEach(t=>{e[t]=Te(e[t])}),e),Tt=e=>Pe(e)?t=>X(e,t):e,Et=(e,{columnsTotalWidth:t,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{let a=q(()=>{let{fixed:n,width:r,vScrollbarSize:i}=e,a=r-i;return n?Math.max(Math.round(K(t)),a):a}),o=q(()=>{let{height:t=0,maxHeight:r=0,footerHeight:i,hScrollbarSize:a}=e;if(r>0){let e=K(f),t=K(n),o=K(d)+e+t+a;return Math.min(o,r-i)}return t-i}),s=q(()=>{let{maxHeight:t}=e,r=K(o);if(I(t)&&t>0)return r;let i=K(n)+K(d)+K(f);return Math.min(r,i)}),c=e=>e.width,l=q(()=>St(K(r).map(c))),u=q(()=>St(K(i).map(c))),d=q(()=>St(e.headerHeight)),f=q(()=>(e.fixedData?.length||0)*e.rowHeight),p=q(()=>K(o)-K(d)-K(f)),m=q(()=>{let{style:t={},height:n,width:r}=e;return wt({...t,height:n,width:r})});return{bodyWidth:a,fixedTableHeight:s,mainTableHeight:o,leftTableWidth:l,rightTableWidth:u,windowHeight:p,footerHeight:q(()=>wt({height:e.footerHeight})),emptyStyle:q(()=>({top:Te(K(d)),bottom:Te(e.footerHeight),width:Te(e.width)})),rootStyle:m,headerHeight:d}};Z();function Dt(e){let t=G(),n=G(),r=G(),{columns:i,columnsStyles:a,columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:c,hasFixedColumns:l,mainColumns:u,onColumnSorted:d}=_t(e,De(e,`columns`),De(e,`fixed`)),{scrollTo:f,scrollToLeft:p,scrollToTop:m,scrollToRow:h,onScroll:g,onVerticalScroll:_,scrollPos:v}=vt(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:fe}),y=ae(`table-v2`),b=Ie(),x=be(!1),{expandedRowKeys:S,lastRenderedRowIndex:C,isDynamic:w,isResetting:T,rowHeights:E,resetAfterIndex:D,onRowExpanded:O,onRowHeightChange:k,onRowHovered:A,onRowsRendered:ee}=yt(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:b,ns:y,isScrolling:x}),{data:j,depthMap:M}=bt(e,{expandedRowKeys:S,lastRenderedRowIndex:C,resetAfterIndex:D}),te=q(()=>{let{estimatedRowHeight:t,rowHeight:n}=e,r=K(j);return I(t)?Object.values(K(E)).reduce((e,t)=>e+t,0):r.length*n}),{bodyWidth:N,fixedTableHeight:P,mainTableHeight:ne,leftTableWidth:re,rightTableWidth:ie,windowHeight:oe,footerHeight:L,emptyStyle:R,rootStyle:se,headerHeight:ce}=Et(e,{columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:c,rowsHeight:te}),le=G(),ue=q(()=>{let t=K(j).length===0;return H(e.fixedData)?e.fixedData.length===0&&t:t});function z(t){let{estimatedRowHeight:n,rowHeight:r,rowKey:i}=e;return n?K(E)[K(j)[t][i]]||n:r}let de=G(!1);function fe(){let{onEndReached:t}=e;if(!t)return;let{scrollTop:n}=K(v),r=K(te),i=r-(n+K(oe))+e.hScrollbarSize;!de.value&&K(C)>=0&&r<=n+K(ne)-K(ce)?(de.value=!0,t(i)):de.value=!1}return F(()=>K(te),()=>de.value=!1),F(()=>e.expandedRowKeys,e=>S.value=e,{deep:!0}),{columns:i,containerRef:le,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:w,isResetting:T,isScrolling:x,hasFixedColumns:l,columnsStyles:a,columnsTotalWidth:o,data:j,expandedRowKeys:S,depthMap:M,fixedColumnsOnLeft:s,fixedColumnsOnRight:c,mainColumns:u,bodyWidth:N,emptyStyle:R,rootStyle:se,footerHeight:L,mainTableHeight:ne,fixedTableHeight:P,leftTableWidth:re,rightTableWidth:ie,showEmpty:ue,getRowHeight:z,onColumnSorted:d,onRowHovered:A,onRowExpanded:O,onRowsRendered:ee,onRowHeightChange:k,scrollTo:f,scrollToLeft:p,scrollToTop:m,scrollToRow:h,onScroll:g,onVerticalScroll:_}}var Ot=Symbol(`tableV2`),kt=`tableV2GridScrollLeft`,At=String,jt={type:Q(Array),required:!0};Q(Object);var Mt={type:Q(Array)},Nt={...Mt,required:!0},Pt=String,Ft={type:Q(Array),default:()=>ge([])},It={type:Number,required:!0},Lt={type:Q([String,Number,Symbol]),default:`id`},Rt={type:Q(Object)},zt=Y({class:String,columns:jt,columnsStyles:{type:Q(Object),required:!0},depth:Number,expandColumnKey:Pt,estimatedRowHeight:{...rt.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Q(Function)},onRowHover:{type:Q(Function)},onRowHeightChange:{type:Q(Function)},rowData:{type:Q(Object),required:!0},rowEventHandlers:{type:Q(Object)},rowIndex:{type:Number,required:!0},rowKey:Lt,style:{type:Q(Object)}}),Bt={type:Number,required:!0},Vt=Y({class:String,columns:jt,fixedHeaderData:{type:Q(Array)},headerData:{type:Q(Array),required:!0},headerHeight:{type:Q([Number,Array]),default:50},rowWidth:Bt,rowHeight:{type:Number,default:50},height:Bt,width:Bt}),Ht=Y({columns:jt,data:Nt,fixedData:Mt,estimatedRowHeight:zt.estimatedRowHeight,width:It,height:It,headerWidth:It,headerHeight:Vt.headerHeight,bodyWidth:It,rowHeight:It,cache:$e.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:rt.scrollbarAlwaysOn,scrollbarStartGap:rt.scrollbarStartGap,scrollbarEndGap:rt.scrollbarEndGap,class:At,style:Rt,containerStyle:Rt,getRowHeight:{type:Q(Function),required:!0},rowKey:zt.rowKey,onRowsRendered:{type:Q(Function)},onScroll:{type:Q(Function)}}),Ut=Y({cache:Ht.cache,estimatedRowHeight:zt.estimatedRowHeight,rowKey:Lt,headerClass:{type:Q([String,Function])},headerProps:{type:Q([Object,Function])},headerCellProps:{type:Q([Object,Function])},headerHeight:Vt.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Q([String,Function])},rowProps:{type:Q([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Q([Object,Function])},columns:jt,data:Nt,dataGetter:{type:Q(Function)},fixedData:Mt,expandColumnKey:zt.expandColumnKey,expandedRowKeys:Ft,defaultExpandedRowKeys:Ft,class:At,fixed:Boolean,style:{type:Q(Object)},width:It,height:It,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:rt.hScrollbarSize,vScrollbarSize:rt.vScrollbarSize,scrollbarAlwaysOn:it.alwaysOn,sortBy:{type:Q(Object),default:()=>({})},sortState:{type:Q(Object),default:void 0},onColumnSort:{type:Q(Function)},onExpandedRowsChange:{type:Q(Function)},onEndReached:{type:Q(Function)},onRowExpand:zt.onRowExpand,onScroll:Ht.onScroll,onRowsRendered:Ht.onRowsRendered,rowEventHandlers:zt.rowEventHandlers}),Wt=J({name:`ElTableV2Header`,props:Vt,setup(e,{slots:t,expose:r}){let i=ae(`table-v2`),a=M(kt),o=G(),s=q(()=>wt({width:e.width,height:e.height})),c=q(()=>wt({width:e.rowWidth,height:e.height})),l=q(()=>n(K(e.headerHeight))),u=e=>{let t=K(o);P(()=>{t!=null&&t.scroll&&t.scroll({left:e})})},d=()=>{let n=i.e(`fixed-header-row`),{columns:r,fixedHeaderData:a,rowHeight:o}=e;return a?.map((e,i)=>{let a=wt({height:o,width:`100%`});return t.fixed?.call(t,{class:n,columns:r,rowData:e,rowIndex:-(i+1),style:a})})},f=()=>{let n=i.e(`dynamic-header-row`),{columns:r}=e;return K(l).map((e,i)=>{let a=wt({width:`100%`,height:e});return t.dynamic?.call(t,{class:n,columns:r,headerIndex:i,style:a})})};return le(()=>{a?.value&&u(a.value)}),r({scrollToLeft:u}),()=>{if(!(e.height<=0))return B(`div`,{ref:o,class:e.class,style:K(s),role:`rowgroup`},[B(`div`,{style:K(c),class:i.e(`header`)},[f(),d()])])}}}),Gt=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},i)=>{let s=null,c=0,l=0,u=(i,a)=>{let o=i<=0&&t.value||i>=0&&e.value,s=a<=0&&r.value||a>=0&&n.value;return o&&s};return{hasReachedEdge:u,onWheel:e=>{o(s);let t=e.deltaX,n=e.deltaY;Math.abs(t)>Math.abs(n)?n=0:t=0,e.shiftKey&&n!==0&&(t=n,n=0),!(u(c,l)&&u(c+t,l+n))&&(c+=t,l+=n,e.preventDefault(),s=a(()=>{i(c,l),c=0,l=0}))}}};Z();var Kt=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:a,getEstimatedTotalWidth:o,getColumnOffset:c,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:f,initCache:p,injectToInstance:m,validateProps:h})=>J({name:e??`ElVirtualList`,props:rt,emits:[g,C],setup(e,{emit:y,expose:b,slots:x}){let S=ae(`vl`);h(e);let w=Ie(),E=G(p(e,w));m?.(w,E);let D=G(),O=G(),ee=G(),j=G(null),M=G({isScrolling:!1,scrollLeft:I(e.initScrollLeft)?e.initScrollLeft:0,scrollTop:I(e.initScrollTop)?e.initScrollTop:0,updateRequested:!1,xAxisScrollDir:T,yAxisScrollDir:T}),te=We(),N=q(()=>Number.parseInt(`${e.height}`,10)),re=q(()=>Number.parseInt(`${e.width}`,10)),F=q(()=>{let{totalColumn:t,totalRow:n,columnCache:a}=e,{isScrolling:o,xAxisScrollDir:s,scrollLeft:c}=K(M);if(t===0||n===0)return[0,0,0,0];let l=r(e,c,K(E)),u=i(e,l,c,K(E)),d=!o||s===`backward`?Math.max(1,a):1,f=!o||s===`forward`?Math.max(1,a):1;return[Math.max(0,l-d),Math.max(0,Math.min(t-1,u+f)),l,u]}),oe=q(()=>{let{totalColumn:t,totalRow:n,rowCache:r}=e,{isScrolling:i,yAxisScrollDir:a,scrollTop:o}=K(M);if(t===0||n===0)return[0,0,0,0];let s=d(e,o,K(E)),c=f(e,s,o,K(E)),l=!i||a===`backward`?Math.max(1,r):1,u=!i||a===`forward`?Math.max(1,r):1;return[Math.max(0,s-l),Math.max(0,Math.min(n-1,c+u)),s,c]}),L=q(()=>a(e,K(E))),R=q(()=>o(e,K(E))),le=q(()=>[{position:`relative`,overflow:`hidden`,WebkitOverflowScrolling:`touch`,willChange:`transform`},{direction:e.direction,height:I(e.height)?`${e.height}px`:e.height,width:I(e.width)?`${e.width}px`:e.width},e.style??{}]),ue=q(()=>{let e=`${K(R)}px`;return{height:`${K(L)}px`,pointerEvents:K(M).isScrolling?`none`:void 0,width:e}}),z=()=>{let{totalColumn:t,totalRow:n}=e;if(t>0&&n>0){let[e,t,n,r]=K(F),[i,a,o,s]=K(oe);y(g,{columnCacheStart:e,columnCacheEnd:t,rowCacheStart:i,rowCacheEnd:a,columnVisibleStart:n,columnVisibleEnd:r,rowVisibleStart:o,rowVisibleEnd:s})}let{scrollLeft:r,scrollTop:i,updateRequested:a,xAxisScrollDir:o,yAxisScrollDir:s}=K(M);y(C,{xAxisScrollDir:o,scrollLeft:r,yAxisScrollDir:s,scrollTop:i,updateRequested:a})},de=t=>{let{clientHeight:n,clientWidth:r,scrollHeight:i,scrollLeft:a,scrollTop:o,scrollWidth:s}=t.currentTarget,c=K(M);if(c.scrollTop===o&&c.scrollLeft===a)return;let l=a;if(ot(e.direction))switch(ct()){case A:l=-a;break;case v:l=s-r-a;break}M.value={...c,isScrolling:!0,scrollLeft:l,scrollTop:Math.max(0,Math.min(o,i-n)),updateRequested:!0,xAxisScrollDir:at(c.scrollLeft,l),yAxisScrollDir:at(c.scrollTop,o)},P(()=>ge()),_e(),z()},fe=(e,t)=>{let n=K(N),r=(L.value-n)/t*e;B({scrollTop:Math.min(L.value-n,r)})},me=(e,t)=>{let n=K(re),r=(R.value-n)/t*e;B({scrollLeft:Math.min(R.value-n,r)})},{onWheel:he}=Gt({atXStartEdge:q(()=>M.value.scrollLeft<=0),atXEndEdge:q(()=>M.value.scrollLeft>=R.value-K(re)),atYStartEdge:q(()=>M.value.scrollTop<=0),atYEndEdge:q(()=>M.value.scrollTop>=L.value-K(N))},(e,t)=>{var n,r,i,a;(r=(n=O.value)?.onMouseUp)==null||r.call(n),(a=(i=ee.value)?.onMouseUp)==null||a.call(i);let o=K(re),s=K(N);B({scrollLeft:Math.min(M.value.scrollLeft+e,R.value-o),scrollTop:Math.min(M.value.scrollTop+t,L.value-s)})});ne(D,`wheel`,he,{passive:!1});let B=({scrollLeft:e=M.value.scrollLeft,scrollTop:t=M.value.scrollTop})=>{e=Math.max(e,0),t=Math.max(t,0);let n=K(M);t===n.scrollTop&&e===n.scrollLeft||(M.value={...n,xAxisScrollDir:at(n.scrollLeft,e),yAxisScrollDir:at(n.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0},P(()=>ge()),_e(),z())},V=(t=0,n=0,r=k)=>{let i=K(M);n=Math.max(0,Math.min(n,e.totalColumn-1)),t=Math.max(0,Math.min(t,e.totalRow-1));let u=s(S.namespace.value),d=K(E),f=a(e,d),p=o(e,d);B({scrollLeft:c(e,n,r,i.scrollLeft,d,p>e.width?u:0),scrollTop:l(e,t,r,i.scrollTop,d,f>e.height?u:0)})},H=(r,i)=>{let{columnWidth:a,direction:o,rowHeight:s}=e,c=te.value(t&&a,t&&s,t&&o),l=`${r},${i}`;if(Ne(c,l))return c[l];{let[,t]=n(e,i,K(E)),a=K(E),s=ot(o),[d,f]=u(e,r,a),[p]=n(e,i,a);return c[l]={position:`absolute`,left:s?void 0:`${t}px`,right:s?`${t}px`:void 0,top:`${f}px`,height:`${d}px`,width:`${p}px`},c[l]}},ge=()=>{M.value.isScrolling=!1,P(()=>{te.value(-1,null,null)})};ce(()=>{if(!ie)return;let{initScrollLeft:t,initScrollTop:n}=e,r=K(D);r&&(I(t)&&(r.scrollLeft=t),I(n)&&(r.scrollTop=n)),z()});let _e=()=>{let{direction:t}=e,{scrollLeft:n,scrollTop:r,updateRequested:i}=K(M),a=K(D);if(i&&a){if(t===`rtl`)switch(ct()){case A:a.scrollLeft=-n;break;case _:a.scrollLeft=n;break;default:{let{clientWidth:e,scrollWidth:t}=a;a.scrollLeft=t-e-n;break}}else a.scrollLeft=Math.max(0,n);a.scrollTop=Math.max(0,r)}},{resetAfterColumnIndex:ve,resetAfterRowIndex:ye,resetAfter:U}=w.proxy;b({windowRef:D,innerRef:j,getItemStyleCache:te,scrollTo:B,scrollToItem:V,states:M,resetAfterColumnIndex:ve,resetAfterRowIndex:ye,resetAfter:U});let be=()=>{let{scrollbarAlwaysOn:t,scrollbarStartGap:n,scrollbarEndGap:r,totalColumn:i,totalRow:a}=e,o=K(re),s=K(N),c=K(R),l=K(L),{scrollLeft:u,scrollTop:d}=K(M);return{horizontalScrollbar:X(ut,{ref:O,alwaysOn:t,startGap:n,endGap:r,class:S.e(`horizontal`),clientSize:o,layout:`horizontal`,onScroll:me,ratio:o*100/c,scrollFrom:u/(c-o),total:a,visible:!0}),verticalScrollbar:X(ut,{ref:ee,alwaysOn:t,startGap:n,endGap:r,class:S.e(`vertical`),clientSize:s,layout:`vertical`,onScroll:fe,ratio:s*100/l,scrollFrom:d/(l-s),total:i,visible:!0})}},xe=()=>{let[t,n]=K(F),[r,i]=K(oe),{data:a,totalColumn:o,totalRow:s,useIsScrolling:c,itemKey:l}=e,u=[];if(s>0&&o>0)for(let e=r;e<=i;e++)for(let r=t;r<=n;r++){let t=l({columnIndex:r,data:a,rowIndex:e});u.push(X(Oe,{key:t},x.default?.call(x,{columnIndex:r,data:a,isScrolling:c?K(M).isScrolling:void 0,style:H(e,r),rowIndex:e})))}return u},Se=()=>{let t=pe(e.innerElement),n=xe();return[X(t,{style:K(ue),ref:j},se(t)?n:{default:()=>n})]};return()=>{let t=pe(e.containerElement),{horizontalScrollbar:n,verticalScrollbar:r}=be(),i=Se();return X(`div`,{key:0,class:S.e(`wrapper`),role:e.role},[X(t,{class:e.className,style:K(le),onScroll:de,ref:D},se(t)?i:{default:()=>i}),n,r])}}}),{max:qt,min:Jt,floor:Yt}=Math,Xt={column:`columnWidth`,row:`rowHeight`},Zt={column:`lastVisitedColumnIndex`,row:`lastVisitedRowIndex`},$=(e,t,n,r)=>{let[i,a,o]=[n[r],e[Xt[r]],n[Zt[r]]];if(t>o){let e=0;if(o>=0){let t=i[o];e=t.offset+t.size}for(let n=o+1;n<=t;n++){let t=a(n);i[n]={offset:e,size:t},e+=t}n[Zt[r]]=t}return i[t]},Qt=(e,t,n,r,i,a)=>{for(;n<=r;){let o=n+Yt((r-n)/2),s=$(e,o,t,a).offset;if(s===i)return o;s<i?n=o+1:r=o-1}return qt(0,n-1)},$t=(e,t,n,r,i)=>{let a=i===`column`?e.totalColumn:e.totalRow,o=1;for(;n<a&&$(e,n,t,i).offset<r;)n+=o,o*=2;return Qt(e,t,Yt(n/2),Jt(n,a-1),r,i)},en=(e,t,n,r)=>{let[i,a]=[t[r],t[Zt[r]]];return(a>0?i[a].offset:0)>=n?Qt(e,t,0,a,n,r):$t(e,t,qt(0,a),n,r)},tn=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let i=0;if(n>=e&&(n=e-1),n>=0){let e=r[n];i=e.offset+e.size}let a=(e-n-1)*t;return i+a},nn=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let i=0;if(r>e&&(r=e-1),r>=0){let e=t[r];i=e.offset+e.size}let a=(e-r-1)*n;return i+a},rn={column:nn,row:tn},an=(e,t,n,r,i,a,o)=>{let[s,c]=[a===`row`?e.height:e.width,rn[a]],l=$(e,t,i,a),u=qt(0,Jt(c(e,i)-s,l.offset)),d=qt(0,l.offset-s+o+l.size);switch(n===`smart`&&(n=r>=d-s&&r<=u+s?k:D),n){case y:return u;case`end`:return d;case D:return Math.round(d+(u-d)/2);case k:default:return r>=d&&r<=u?r:d>u||r<d?d:u}},on=Kt({name:`ElDynamicSizeGrid`,getColumnPosition:(e,t,n)=>{let r=$(e,t,n,`column`);return[r.size,r.offset]},getRowPosition:(e,t,n)=>{let r=$(e,t,n,`row`);return[r.size,r.offset]},getColumnOffset:(e,t,n,r,i,a)=>an(e,t,n,r,i,`column`,a),getRowOffset:(e,t,n,r,i,a)=>an(e,t,n,r,i,`row`,a),getColumnStartIndexForOffset:(e,t,n)=>en(e,n,t,`column`),getColumnStopIndexForStartIndex:(e,t,n,r)=>{let i=$(e,t,r,`column`),a=n+e.width,o=i.offset+i.size,s=t;for(;s<e.totalColumn-1&&o<a;)s++,o+=$(e,t,r,`column`).size;return s},getEstimatedTotalHeight:tn,getEstimatedTotalWidth:nn,getRowStartIndexForOffset:(e,t,n)=>en(e,n,t,`row`),getRowStopIndexForStartIndex:(e,t,n,r)=>{let{totalRow:i,height:a}=e,o=$(e,t,r,`row`),s=n+a,c=o.size+o.offset,l=t;for(;l<i-1&&c<s;)l++,c+=$(e,l,r,`row`).size;return l},injectToInstance:(e,t)=>{let n=({columnIndex:n,rowIndex:r},i)=>{var a,o;i=je(i)?!0:i,I(n)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,n-1)),I(r)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,r-1)),(a=e.exposed)==null||a.getItemStyleCache.value(-1,null,null),i&&((o=e.proxy)==null||o.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{n({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{n({rowIndex:e},t)},resetAfter:n})},initCache:({estimatedColumnWidth:e=50,estimatedRowHeight:t=50})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),sn=Kt({name:`ElFixedSizeGrid`,getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,i,a,o,s)=>{n=Number(n);let c=Math.max(0,e*t-n),l=Math.min(c,r*t),u=Math.max(0,r*t-n+s+t);switch(i===`smart`&&(i=a>=u-n&&a<=l+n?k:D),i){case y:return l;case`end`:return u;case D:{let e=Math.round(u+(l-u)/2);return e<Math.ceil(n/2)?0:e>c+Math.floor(n/2)?c:e}case k:default:return a>=u&&a<=l?a:u>l||a<u?u:l}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,i,a,o,s)=>{t=Number(t);let c=Math.max(0,n*e-t),l=Math.min(c,r*e),u=Math.max(0,r*e-t+s+e);switch(i===`smart`&&(i=a>=u-t&&a<=l+t?k:D),i){case y:return l;case`end`:return u;case D:{let e=Math.round(u+(l-u)/2);return e<Math.ceil(t/2)?0:e>c+Math.floor(t/2)?c:e}case k:default:return a>=u&&a<=l?a:u>l||a<u?u:l}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,i)=>{let a=r*e,o=Math.ceil((n+i-a)/e);return Math.max(0,Math.min(t-1,r+o-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,i)=>{let a=r*e,o=Math.ceil((n+i-a)/e);return Math.max(0,Math.min(t-1,r+o-1))},initCache:()=>void 0,clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}});Z();var cn=`ElTableV2Grid`,ln=e=>{let t=G(),n=G(),r=G(0),i=q(()=>{let{data:t,rowHeight:n,estimatedRowHeight:r}=e;if(!r)return t.length*n}),a=q(()=>{let{fixedData:t,rowHeight:n}=e;return(t?.length||0)*n}),o=q(()=>St(e.headerHeight)),s=q(()=>{let{height:t}=e;return Math.max(0,t-K(o)-K(a))}),c=q(()=>K(o)+K(a)>0),l=({data:t,rowIndex:n})=>t[n][e.rowKey];function u({rowCacheStart:t,rowCacheEnd:n,rowVisibleStart:r,rowVisibleEnd:i}){var a;(a=e.onRowsRendered)==null||a.call(e,{rowCacheStart:t,rowCacheEnd:n,rowVisibleStart:r,rowVisibleEnd:i})}function d(e,t){var r;(r=n.value)==null||r.resetAfterRowIndex(e,t)}function f(e,i){let a=K(t),o=K(n);N(e)?(a?.scrollToLeft(e.scrollLeft),r.value=e.scrollLeft,o?.scrollTo(e)):(a?.scrollToLeft(e),r.value=e,o?.scrollTo({scrollLeft:e,scrollTop:i}))}function p(e){var t;(t=K(n))==null||t.scrollTo({scrollTop:e})}function m(e,t){var r;(r=K(n))==null||r.scrollToItem(e,1,t)}function h(){var e,r;(e=K(n))==null||e.$forceUpdate(),(r=K(t))==null||r.$forceUpdate()}return F(()=>e.bodyWidth,()=>{var t;I(e.estimatedRowHeight)&&((t=n.value)==null||t.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:h,fixedRowHeight:a,gridHeight:s,hasHeader:c,headerHeight:o,headerRef:t,totalHeight:i,itemKey:l,onItemRendered:u,resetAfterRowIndex:d,scrollTo:f,scrollToTop:p,scrollToRow:m,scrollLeft:r}},un=J({name:cn,props:Ht,setup(e,{slots:t,expose:n}){let{ns:r}=M(Ot),{bodyRef:i,fixedRowHeight:a,gridHeight:o,hasHeader:s,headerRef:c,headerHeight:l,totalHeight:u,forceUpdate:d,itemKey:f,onItemRendered:p,resetAfterRowIndex:m,scrollTo:h,scrollToTop:g,scrollToRow:_,scrollLeft:v}=ln(e);L(kt,v),te(async()=>{await P();let e=i.value?.states.scrollTop;e&&g(Math.round(e)+1)}),n({forceUpdate:d,totalHeight:u,scrollTo:h,scrollToTop:g,scrollToRow:_,resetAfterRowIndex:m});let y=()=>e.bodyWidth;return()=>{let{cache:n,columns:u,data:d,fixedData:m,useIsScrolling:h,scrollbarAlwaysOn:g,scrollbarEndGap:_,scrollbarStartGap:v,style:b,rowHeight:x,bodyWidth:S,estimatedRowHeight:C,headerWidth:w,height:T,width:E,getRowHeight:D,onScroll:O}=e,k=I(C),A=k?on:sn,ee=K(l);return B(`div`,{role:`table`,class:[r.e(`table`),e.class],style:b},[B(A,{ref:i,data:d,useIsScrolling:h,itemKey:f,columnCache:0,columnWidth:k?y:S,totalColumn:1,totalRow:d.length,rowCache:n,rowHeight:k?D:x,width:E,height:K(o),class:r.e(`body`),role:`rowgroup`,scrollbarStartGap:v,scrollbarEndGap:_,scrollbarAlwaysOn:g,onScroll:O,onItemRendered:p,perfMode:!1},{default:e=>{let n=d[e.rowIndex];return t.row?.call(t,{...e,columns:u,rowData:n})}}),K(s)&&B(Wt,{ref:c,class:r.e(`header-wrapper`),columns:u,headerData:d,headerHeight:e.headerHeight,fixedHeaderData:m,rowWidth:w,rowHeight:x,width:E,height:Math.min(ee+K(a),T)},{dynamic:t.header,fixed:t.row})])}}});function dn(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Pe(e)}var fn=(e,{slots:t})=>{let{mainTableRef:n,...r}=e;return B(un,z({ref:n},r),dn(t)?t:{default:()=>[t]})};function pn(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Pe(e)}var mn=(e,{slots:t})=>{if(!e.columns.length)return;let{leftTableRef:n,...r}=e;return B(un,z({ref:n},r),pn(t)?t:{default:()=>[t]})};function hn(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Pe(e)}var gn=(e,{slots:t})=>{if(!e.columns.length)return;let{rightTableRef:n,...r}=e;return B(un,z({ref:n},r),hn(t)?t:{default:()=>[t]})};Z();var _n=e=>{let{isScrolling:t}=M(Ot),n=G(!1),r=G(),i=q(()=>I(e.estimatedRowHeight)&&e.rowIndex>=0),a=(t=!1)=>{let i=K(r);if(!i)return;let{columns:a,onRowHeightChange:o,rowKey:s,rowIndex:c,style:l}=e,{height:u}=i.getBoundingClientRect();n.value=!0,P(()=>{if(t||u!==Number.parseInt(l.height)){let e=a[0],t=e?.placeholderSign===ht;o?.({rowKey:s,height:u,rowIndex:c},e&&!t&&e.fixed)}})},o=q(()=>{let{rowData:t,rowIndex:n,rowKey:r,onRowHover:i}=e,a=e.rowEventHandlers||{},o={};return Object.entries(a).forEach(([e,i])=>{j(i)&&(o[e]=e=>{i({event:e,rowData:t,rowIndex:n,rowKey:r})})}),i&&[{name:`onMouseleave`,hovered:!1},{name:`onMouseenter`,hovered:!0}].forEach(({name:e,hovered:a})=>{let s=o[e];o[e]=e=>{i({event:e,hovered:a,rowData:t,rowIndex:n,rowKey:r}),s?.(e)}}),o});return ce(()=>{K(i)&&a(!0)}),{isScrolling:t,measurable:i,measured:n,rowRef:r,eventHandlers:o,onExpand:t=>{let{onRowExpand:n,rowData:r,rowIndex:i,rowKey:a}=e;n?.({expanded:t,rowData:r,rowIndex:i,rowKey:a})}}},vn=J({name:`ElTableV2TableRow`,props:zt,setup(e,{expose:t,slots:n,attrs:r}){let{eventHandlers:i,isScrolling:a,measurable:o,measured:s,rowRef:c,onExpand:l}=_n(e);return t({onExpand:l}),()=>{let{columns:t,columnsStyles:u,expandColumnKey:d,depth:f,rowData:p,rowIndex:m,style:h}=e,g=t.map((e,r)=>{let i=H(p.children)&&p.children.length>0&&e.key===d;return n.cell({column:e,columns:t,columnIndex:r,depth:f,style:u[e.key],rowData:p,rowIndex:m,isScrolling:K(a),expandIconProps:i?{rowData:p,rowIndex:m,onExpand:l}:void 0})});if(n.row&&(g=n.row({cells:g.map(e=>H(e)&&e.length===1?e[0]:e),style:h,columns:t,depth:f,rowData:p,rowIndex:m,isScrolling:K(a)})),K(o)){let{height:t,...n}=h||{},a=K(s);return B(`div`,z({ref:c,class:e.class,style:a?h:n,role:`row`},r,K(i)),[g])}return B(`div`,z(r,{ref:c,class:e.class,style:h,role:`row`},K(i)),[g])}}});function yn(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Pe(e)}var bn=(e,{slots:t})=>{let{columns:n,columnsStyles:r,depthMap:i,expandColumnKey:a,expandedRowKeys:o,estimatedRowHeight:s,hasFixedColumns:c,rowData:l,rowIndex:u,style:d,isScrolling:f,rowProps:p,rowClass:m,rowKey:h,rowEventHandlers:g,ns:_,onRowHovered:v,onRowExpanded:y}=e,b=Ct(m,{columns:n,rowData:l,rowIndex:u},``),x=Ct(p,{columns:n,rowData:l,rowIndex:u}),S=l[h],C=i[S]||0,w=!!a,T=u<0,E=[_.e(`row`),b,{[_.e(`row-depth-${C}`)]:w&&u>=0,[_.is(`expanded`)]:w&&o.includes(S),[_.is(`fixed`)]:!C&&T,[_.is(`customized`)]:!!t.row}],D=c?v:void 0;return B(vn,z({...x,columns:n,columnsStyles:r,class:E,depth:C,expandColumnKey:a,estimatedRowHeight:T?void 0:s,isScrolling:f,rowIndex:u,rowData:l,rowKey:S,rowEventHandlers:g,style:d},{onRowExpand:y,onMouseenter:e=>{D?.({hovered:!0,rowKey:S,event:e,rowData:l,rowIndex:u})},onMouseleave:e=>{D?.({hovered:!1,rowKey:S,event:e,rowData:l,rowIndex:u})},rowkey:S}),yn(t)?t:{default:()=>[t]})},xn=(e,{slots:t})=>{let{cellData:n,style:r}=e,i=(n?.toString)?.call(n)||``,a=ue(t,`default`,e,()=>[i]);return B(`div`,{class:e.class,title:i,style:r},[a])};xn.displayName=`ElTableV2Cell`,xn.inheritAttrs=!1;var Sn=xn,Cn=e=>{let{expanded:t,expandable:n,onExpand:r,style:i,size:a}=e;return B(he,z({onClick:n?()=>r(!t):void 0,class:e.class},{size:a,style:i}),{default:()=>[B(Fe,null,null)]})};Z();var wn=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:i,isScrolling:a,rowData:o,rowIndex:s,style:c,expandedRowKeys:l,ns:u,cellProps:d,expandColumnKey:f,indentSize:p,iconSize:m,rowKey:h},{slots:g})=>{let _=wt(c);if(t.placeholderSign===ht)return B(`div`,{class:u.em(`row-cell`,`placeholder`),style:_},null);let{cellRenderer:v,dataKey:y,dataGetter:b}=t,x=j(b)?b({columns:e,column:t,columnIndex:n,rowData:o,rowIndex:s}):ve(o,y??``),S=Ct(d,{cellData:x,columns:e,column:t,columnIndex:n,rowIndex:s,rowData:o}),C={class:u.e(`cell-text`),columns:e,column:t,columnIndex:n,cellData:x,isScrolling:a,rowData:o,rowIndex:s},w=Tt(v),T=w?w(C):ue(g,`default`,C,()=>[B(Sn,C,null)]),E=[u.e(`row-cell`),t.class,t.align===ft.CENTER&&u.is(`align-center`),t.align===ft.RIGHT&&u.is(`align-right`)],D=s>=0&&f&&t.key===f,O=s>=0&&l.includes(o[h]),k,A=`margin-inline-start: ${r*p}px;`;return D&&(k=N(i)?B(Cn,z(i,{class:[u.e(`expand-icon`),u.is(`expanded`,O)],size:m,expanded:O,style:A,expandable:!0}),null):B(`div`,{style:[A,`width: ${m}px; height: ${m}px;`].join(` `)},null)),B(`div`,z({class:E,style:_},S,{role:`cell`}),[k,T])};wn.inheritAttrs=!1;var Tn=wn,En=Y({class:String,columns:jt,columnsStyles:{type:Q(Object),required:!0},headerIndex:Number,style:{type:Q(Object)}});Z();var Dn=J({name:`ElTableV2HeaderRow`,props:En,setup(e,{slots:t}){return()=>{let{columns:n,columnsStyles:r,headerIndex:i,style:a}=e,o=n.map((e,a)=>t.cell({columns:n,column:e,columnIndex:a,headerIndex:i,style:r[e.key]}));return t.header&&(o=t.header({cells:o.map(e=>H(e)&&e.length===1?e[0]:e),columns:n,headerIndex:i})),B(`div`,{class:e.class,style:a,role:`row`},[o])}}});function On(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Pe(e)}var kn=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:i,headerProps:a,ns:o},{slots:s})=>{let c={columns:e,headerIndex:n},l=[o.e(`header-row`),Ct(i,c,``),{[o.is(`customized`)]:!!s.header}];return B(Dn,{...Ct(a,c),columnsStyles:t,class:l,columns:e,headerIndex:n,style:r},On(s)?s:{default:()=>[s]})},An=(e,{slots:t})=>ue(t,`default`,e,()=>[B(`div`,{class:e.class,title:e.column?.title},[e.column?.title])]);An.displayName=`ElTableV2HeaderCell`,An.inheritAttrs=!1;var jn=An,Mn=e=>{let{sortOrder:t}=e;return B(he,{size:14,class:e.class},{default:()=>[t===dt.ASC?B(oe,null,null):B(de,null,null)]})},Nn=(e,{slots:t})=>{let{column:n,ns:r,style:i,onColumnSorted:a}=e,o=wt(i);if(n.placeholderSign===ht)return B(`div`,{class:r.em(`header-row-cell`,`placeholder`),style:o},null);let{headerCellRenderer:s,headerClass:c,sortable:l}=n,u={...e,class:r.e(`header-cell-text`)},d=Tt(s),f=d?d(u):ue(t,`default`,u,()=>[B(jn,u,null)]),{sortBy:p,sortState:m,headerCellProps:h}=e,g,_;if(m){let e=m[n.key];g=!!mt[e],_=g?e:dt.ASC}else g=n.key===p.key,_=g?p.order:dt.ASC;let v=[r.e(`header-cell`),Ct(c,e,``),n.align===ft.CENTER&&r.is(`align-center`),n.align===ft.RIGHT&&r.is(`align-right`),l&&r.is(`sortable`)];return B(`div`,z({...Ct(h,e),onClick:n.sortable?a:void 0,class:v,style:o,"data-key":n.key},{role:`columnheader`}),[f,l&&B(Mn,{class:[r.e(`sort-icon`),g&&r.is(`sorting`)],sortOrder:_},null)])},Pn=(e,{slots:t})=>B(`div`,{class:e.class,style:e.style},[t.default?.call(t)]);Pn.displayName=`ElTableV2Footer`;var Fn=Pn,In=(e,{slots:t})=>{let n=ue(t,`default`,{},()=>[B(d,null,null)]);return B(`div`,{class:e.class,style:e.style},[n])};In.displayName=`ElTableV2Empty`;var Ln=In,Rn=(e,{slots:t})=>B(`div`,{class:e.class,style:e.style},[t.default?.call(t)]);Rn.displayName=`ElTableV2Overlay`;var zn=Rn;function Bn(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Pe(e)}var Vn=J({name:`ElTableV2`,props:Ut,setup(e,{slots:t,expose:n}){let r=ae(`table-v2`),{columnsStyles:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:o,mainColumns:s,mainTableHeight:c,fixedTableHeight:l,leftTableWidth:u,rightTableWidth:d,data:f,depthMap:p,expandedRowKeys:m,hasFixedColumns:h,mainTableRef:g,leftTableRef:_,rightTableRef:v,isDynamic:y,isResetting:b,isScrolling:x,bodyWidth:S,emptyStyle:C,rootStyle:w,footerHeight:T,showEmpty:E,scrollTo:D,scrollToLeft:O,scrollToTop:k,scrollToRow:A,getRowHeight:ee,onColumnSorted:j,onRowHeightChange:M,onRowHovered:te,onRowExpanded:N,onRowsRendered:P,onScroll:ne,onVerticalScroll:re}=Dt(e);return n({scrollTo:D,scrollToLeft:O,scrollToTop:k,scrollToRow:A}),L(Ot,{ns:r,isResetting:b,isScrolling:x}),()=>{let{cache:n,cellProps:b,estimatedRowHeight:x,expandColumnKey:D,fixedData:O,headerHeight:k,headerClass:A,headerProps:ie,headerCellProps:ae,sortBy:F,sortState:I,rowHeight:oe,rowClass:L,rowEventHandlers:R,rowKey:se,rowProps:ce,scrollbarAlwaysOn:le,indentSize:ue,iconSize:de,useIsScrolling:fe,vScrollbarSize:pe,width:me}=e,he=K(f),V={cache:n,class:r.e(`main`),columns:K(s),data:he,fixedData:O,estimatedRowHeight:x,bodyWidth:K(S),headerHeight:k,headerWidth:K(S),height:K(c),mainTableRef:g,rowKey:se,rowHeight:oe,scrollbarAlwaysOn:le,scrollbarStartGap:2,scrollbarEndGap:pe,useIsScrolling:fe,width:me,getRowHeight:ee,onRowsRendered:P,onScroll:ne},H=K(u),ge=K(l),_e={cache:n,class:r.e(`left`),columns:K(a),data:he,fixedData:O,estimatedRowHeight:x,leftTableRef:_,rowHeight:oe,bodyWidth:H,headerWidth:H,headerHeight:k,height:ge,rowKey:se,scrollbarAlwaysOn:le,scrollbarStartGap:2,scrollbarEndGap:pe,useIsScrolling:fe,width:H,getRowHeight:ee,onScroll:re},ve=K(d),ye={cache:n,class:r.e(`right`),columns:K(o),data:he,fixedData:O,estimatedRowHeight:x,rightTableRef:v,rowHeight:oe,bodyWidth:ve,headerWidth:ve,headerHeight:k,height:ge,rowKey:se,scrollbarAlwaysOn:le,scrollbarStartGap:2,scrollbarEndGap:pe,width:ve,style:`--${K(r.namespace)}-table-scrollbar-size: ${pe}px`,useIsScrolling:fe,getRowHeight:ee,onScroll:re},U=K(i),be={ns:r,depthMap:K(p),columnsStyles:U,expandColumnKey:D,expandedRowKeys:K(m),estimatedRowHeight:x,hasFixedColumns:K(h),rowProps:ce,rowClass:L,rowKey:se,rowEventHandlers:R,onRowHovered:te,onRowExpanded:N,onRowHeightChange:M},xe={cellProps:b,expandColumnKey:D,indentSize:ue,iconSize:de,rowKey:se,expandedRowKeys:K(m),ns:r},Se={ns:r,headerClass:A,headerProps:ie,columnsStyles:U},Ce={ns:r,sortBy:F,sortState:I,headerCellProps:ae,onColumnSorted:j},W={row:e=>B(bn,z(e,be),{row:t.row,cell:e=>{let n;return t.cell?B(Tn,z(e,xe,{style:U[e.column.key]}),Bn(n=t.cell(e))?n:{default:()=>[n]}):B(Tn,z(e,xe,{style:U[e.column.key]}),null)}}),header:e=>B(kn,z(e,Se),{header:t.header,cell:e=>{let n;return t[`header-cell`]?B(Nn,z(e,Ce,{style:U[e.column.key]}),Bn(n=t[`header-cell`](e))?n:{default:()=>[n]}):B(Nn,z(e,Ce,{style:U[e.column.key]}),null)}})},we=[e.class,r.b(),r.e(`root`),{[r.is(`dynamic`)]:K(y)}],Te={class:r.e(`footer`),style:K(T)};return B(`div`,{class:we,style:K(w)},[B(fn,V,Bn(W)?W:{default:()=>[W]}),B(mn,_e,Bn(W)?W:{default:()=>[W]}),B(gn,ye,Bn(W)?W:{default:()=>[W]}),t.footer&&B(Fn,Te,{default:t.footer}),K(E)&&B(Ln,{class:r.e(`empty`),style:K(C)},{default:t.empty}),t.overlay&&B(zn,{class:r.e(`overlay`)},{default:t.overlay})])}}}),Hn=Y({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Q(Function)}}),Un=e=>{let t=G(),n=G(0),r=G(0),i;return ce(()=>{i=Ce(t,([e])=>{let{width:t,height:i}=e.contentRect,{paddingLeft:a,paddingRight:o,paddingTop:s,paddingBottom:c}=getComputedStyle(e.target),l=Number.parseInt(a)||0,u=Number.parseInt(o)||0,d=Number.parseInt(s)||0,f=Number.parseInt(c)||0;n.value=t-l-u,r.value=i-d-f}).stop}),Se(()=>{i?.()}),F([n,r],([t,n])=>{var r;(r=e.onResize)==null||r.call(e,{width:t,height:n})}),{sizer:t,width:n,height:r}},Wn=J({name:`ElAutoResizer`,props:Hn,setup(e,{slots:t}){let n=ae(`auto-resizer`),{height:r,width:i,sizer:a}=Un(e),o={width:`100%`,height:`100%`};return()=>B(`div`,{ref:a,class:n.b(),style:o},[t.default?.call(t,{height:r.value,width:i.value})])}}),Gn=me(Vn),Kn=me(Wn);function qn(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!Pe(e)}var Jn=J({name:`SmartVirtualizedTable`,props:{data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},pagination:{type:Object,default:null},paginationLayout:{type:String,default:`total, sizes, prev, pager, next, jumper`},adaptive:{type:Boolean,default:!0},extraGap:{type:Number,default:0},title:{type:String,default:``},showRefresh:{type:Boolean,default:!0},showToolbar:{type:Boolean,default:!0},showColumnController:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:[`update:pagination`,`size-change`,`current-change`,`sort-change`,`refresh`,`select`,`select-all`,`selection-change`],setup(e,{emit:t,slots:n,attrs:r}){let a=q(()=>e.pagination??null),o=e=>{a.value&&(t(`update:pagination`,{...a.value,pageSize:e,currentPage:1}),t(`size-change`,e))},s=e=>{a.value&&(t(`update:pagination`,{...a.value,currentPage:e}),t(`current-change`,e))},m=G(0),h=G(null),g=G(),_=G(null),v=G(0),y=G(null),b=null,x=new ze(e,h,_,m,v,y);ce(async()=>{await P(),x.calcTableHeight(),b=new ResizeObserver(()=>x.calcTableHeight()),window.addEventListener(`resize`,()=>x.calcTableHeight()),F(()=>_.value,t=>{b?.disconnect(),e.pagination&&t instanceof HTMLElement&&b?.observe(t),x.calcTableHeight()},{immediate:!0})}),Se(()=>{window.removeEventListener(`resize`,()=>x.calcTableHeight()),b?.disconnect()});let S=({value:e,intermediate:t=!1,onChange:n})=>B(u,{onChange:n,modelValue:e,indeterminate:t},null),C=G(e.columns.map(e=>e.dataKey)),w=()=>{let t=e.columns.filter(e=>!e.autoWidth&&C.value.includes(e.dataKey)),n=t.map(e=>e.dataKey),r=t.reduce((e,t)=>e+(t.width??t.minWidth??0),0);return(v.value-r)/C.value.filter(e=>!n.includes(e)).length},T=q(()=>e.columns.filter(e=>C.value.includes(e.dataKey)).map(r=>{r.autoWidth?r.width=w():(r.autoWidth=!r.width&&!r.minWidth,r.minWidth||(r.width=r.width||w()));let i=r.slot||r.dataKey,a=r.headerSlot||`${r.prop}-header`;return r.slot?r.cellRenderer=({rowData:e,rowIndex:t})=>{let a=e[r.dataKey];if(n[i]){let a=n[i]({rowData:e,rowIndex:t,column:r});return Array.isArray(a)?X(Oe,null,a):a}return a}:r.selection&&(r.cellRenderer=({rowData:n})=>B(S,{value:n.checked,onChange:r=>{n.checked=r,t(`select`,e.data.filter(e=>e.checked),n),t(`selection-change`,e.data.filter(e=>e.checked))}},null)),r.formatter&&(r.cellRenderer=({rowData:e,rowIndex:t})=>{let n=e[r.dataKey];return r.formatter?.(e,r,n,t)}),r.headerSlot?r.headerCellRenderer=()=>{let e=n[a]?.({column:r});return e?Array.isArray(e)?X(Oe,null,e):e:null}:r.selection&&(r.headerCellRenderer=()=>{let n=K(e.data),r=n=>{e.data.forEach(e=>{e.checked=n}),t(`selection-change`,e.data.filter(e=>e.checked)),t(`select-all`,e.data.filter(e=>e.checked))},i=n.length!==0&&n.every(e=>e.checked);return B(S,{value:i,intermediate:n.some(e=>e.checked)&&!i,onChange:r},null)}),r}).map(E)),E=e=>(e.tooltip&&!e.formatter&&!e.cellRenderer&&(e.cellRenderer=({rowData:t})=>B(Le,{content:t[e.dataKey]??`-`,class:e.tooltipClass?e.tooltipClass:``},{default:()=>[t[e.dataKey]]})),e),D=()=>{let r=()=>{x.calcTableHeight()};return B(`div`,{ref:y,style:`display:flex;justify-content:space-between;align-items:center; padding:0 11px 11px;border-bottom:1px solid var(--el-border-color-lighter);`},[B(`div`,{style:`font-size:16px;font-weight:600;color:var(--el-text-color-primary);`},[n.title?n.title():e.title]),B(`div`,{style:`display:flex;gap:0px;align-items:center;`},[n.toolbarSlot?.(),e.showRefresh&&B(i,{content:`åˆ·æ–°`,placement:`top`},{default:()=>[B(c,{text:!0,onClick:()=>t(`refresh`),disabled:e.loading},{default:()=>[B(Ee,{icon:`ep:refresh`},null)]})]}),e.showColumnController&&B(i,{content:`åˆ—è®¾ç½®`,placement:`top`,"as-child":!0},{default:()=>[B(`div`,null,[B(p,{trigger:`click`,placement:`bottom-end`},{reference:()=>B(c,{text:!0},{default:()=>[B(Ee,{icon:`ep:menu`},null)]}),default:()=>{let t;return B(l,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,style:`padding-left:20px`,onChange:r},qn(t=e.columns.map(e=>B(u,{onChange:r,key:e.dataKey,value:e.dataKey,label:e.selection?`å¤é€‰æ¡†`:e.title},null)))?t:{default:()=>[t]})}})])]})])])};return()=>B(`div`,{style:`background-color:var(--el-bg-color); padding:12px; box-sizing:border-box;`,ref:h},[e.showToolbar?n.toolbar?n.toolbar():D():null,B(Kn,null,{default:({height:i,width:a})=>R(B(Gn,z(r,{ref:g,data:e.data,width:a,columns:T.value,height:e.adaptive?m.value:i,"onSort-change":e=>t(`sort-change`,e)}),{empty:n.empty?()=>n.empty?.():()=>B(d,{description:`æš‚æ— æ•°æ®`},null)}),[[W,e.loading]])}),a.value&&B(`div`,{style:`padding-top:12px; text-align:right`,ref:_},[B(f,{background:!0,style:`justify-content:flex-end;`,layout:e.paginationLayout,currentPage:a.value.currentPage,pageSize:a.value.pageSize,total:a.value.total,pageSizes:a.value.pageSizes||[10,20,50,100],"onUpdate:page-size":o,"onUpdate:current-page":s},null)])])}}),Yn=J({__name:`SmartTableV2`,setup(e){let n=G([]),r=G({currentPage:1,pageSize:3e3,total:0,pageSizes:[10,20,50,100,3e3]}),i=G(!1),a=e=>{console.log(e),n.value=Re(n.value,e.key,e.order),o.value=e},o=G({key:`age2`,order:dt.ASC}),s=e=>{console.log(`é€‰ä¸­è¡Œï¼š`,e)},l=e=>{console.log(e)},u=(e,t)=>{console.log(e,t)},d=[{key:`index`,dataKey:`index`,selection:!0,width:50},{key:`name`,dataKey:`name`,title:`å§“å`,slot:`name`,align:`center`},{key:`age`,dataKey:`age`,title:`å¹´é¾„`,align:`center`,sortable:!0,headerSlot:`age-header`},{key:`age1`,dataKey:`age1`,title:`å¹´é¾„1`,align:`center`},{key:`age2`,dataKey:`age2`,title:`å¹´é¾„2`,align:`center`,sortable:!0},{key:`age3`,dataKey:`age3`,title:`å¹´é¾„3`,align:`center`},{key:`age4`,dataKey:`age4`,title:`å¹´é¾„4`,align:`center`},{key:`age5`,dataKey:`age5`,title:`å¹´é¾„5`,align:`center`},{key:`age6`,dataKey:`age6`,title:`å¹´é¾„6`,align:`center`},{key:`age7`,dataKey:`age7`,title:`å¹´é¾„7`,align:`center`},{dataKey:`edit-col`,title:`æ“ä½œ`,slot:`edit-slot`,width:150}],f=e=>{console.log(`æŽ’åºå‚æ•°ï¼š`,e),h()},p=e=>{console.log(`ç¼–è¾‘`,e)},m=e=>{console.log(`åˆ é™¤`,e)},h=()=>{i.value=!0,setTimeout(()=>{r.value.total=1e4,n.value=Array.from({length:r.value.pageSize}).map((e,t)=>({id:(r.value.currentPage-1)*r.value.pageSize+t+1,name:`ç”¨æˆ· ${(r.value.currentPage-1)*r.value.pageSize+t+1}`,age:18+Math.floor(Math.random()*10),age1:18+Math.floor(Math.random()*10),age2:18+Math.floor(Math.random()*10),age3:18+Math.floor(Math.random()*10),age4:18+Math.floor(Math.random()*10),age5:18+Math.floor(Math.random()*10),age6:18+Math.floor(Math.random()*10),age7:18+Math.floor(Math.random()*10)})),i.value=!1},500)};return h(),(e,g)=>{let _=t,v=c;return re(),we(`div`,null,[B(K(Jn),{title:`è™šæ‹Ÿè¡¨æ ¼`,data:n.value,columns:d,loading:i.value,"sort-by":o.value,pagination:r.value,"onUpdate:pagination":g[0]||=e=>r.value=e,style:{width:`100%`},onColumnSort:a,onRefresh:h,onSortChange:f,onSizeChange:h,onCurrentChange:h,onSelect:u,onSelectAll:l,onSelectionChange:s},{name:Ae(({rowData:e})=>[B(_,null,{default:Ae(()=>[U(fe(e.name),1)]),_:2},1024)]),"age-header":Ae(()=>[...g[1]||=[_e(`span`,{style:{color:`red`}},`ðŸ”¥ å¹´é¾„`,-1)]]),"edit-slot":Ae(({rowData:e})=>[B(v,{size:`small`,type:`primary`,onClick:t=>p(e)},{default:Ae(()=>[...g[2]||=[U(`ç¼–è¾‘`,-1)]]),_:1},8,[`onClick`]),B(v,{size:`small`,type:`danger`,onClick:t=>m(e)},{default:Ae(()=>[...g[3]||=[U(`åˆ é™¤`,-1)]]),_:1},8,[`onClick`])]),_:1},8,[`data`,`loading`,`sort-by`,`pagination`])])}}});export{Yn as t};