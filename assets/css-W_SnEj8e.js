import{a as e,i as t,o as n}from"./aria-CIJ92hv4.js";import{c as r,o as i,s as a}from"./input-CR6PP8Vp.js";import{E as ee,M as o,N as s,a as te,i as c,m as l,o as u,s as d}from"./button-OiLMmw4m.js";import{$t as f,C as p,En as m,Fn as h,H as g,Mn as _,Qt as v,S as y,Vn as b,Vt as x,Yn as S,an as C,b as w,cn as T,dr as E,fn as D,kn as O,ln as k,lr as A,mr as j,o as M,on as N,pn as P,pr as F,sn as I,tr as L,u as R,ur as z,xn as B,z as V,zn as H}from"./index-O7hvt5-X.js";var U=[`year`,`years`,`month`,`months`,`date`,`dates`,`week`,`datetime`,`datetimerange`,`daterange`,`monthrange`,`yearrange`],W=y({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:e=>[``,...w].includes(e)},width:{type:[String,Number],default:``},inlinePrompt:Boolean,inactiveActionIcon:{type:l},activeActionIcon:{type:l},activeIcon:{type:l},inactiveIcon:{type:l},activeText:{type:String,default:``},inactiveText:{type:String,default:``},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:``},validateEvent:{type:Boolean,default:!0},beforeChange:{type:p(Function)},id:String,tabindex:{type:[String,Number]},...t([`ariaLabel`])}),G={[r]:e=>V(e)||z(e)||g(e),[i]:e=>V(e)||z(e)||g(e),[a]:e=>V(e)||z(e)||g(e)},K=`ElSwitch`,q=M(s(P({...P({name:K}),props:W,emits:G,setup(t,{expose:s,emit:l}){let p=t,{formItem:g}=u(),y=te(),w=x(`switch`),{inputId:M}=d(p,{formItemContext:g}),P=c(C(()=>p.loading)),z=S(p.modelValue!==!1),U=S(),W=S(),G=C(()=>[w.b(),w.m(y.value),w.is(`disabled`,P.value),w.is(`checked`,Z.value)]),q=C(()=>[w.e(`label`),w.em(`label`,`left`),w.is(`active`,!Z.value)]),J=C(()=>[w.e(`label`),w.em(`label`,`right`),w.is(`active`,Z.value)]),Y=C(()=>({width:R(p.width)}));H(()=>p.modelValue,()=>{z.value=!0});let X=C(()=>z.value?p.modelValue:!1),Z=C(()=>X.value===p.activeValue);[p.activeValue,p.inactiveValue].includes(X.value)||(l(r,p.inactiveValue),l(i,p.inactiveValue),l(a,p.inactiveValue)),H(Z,t=>{var n;U.value.checked=t,p.validateEvent&&((n=g?.validate)==null||n.call(g,`change`).catch(t=>e()))});let Q=()=>{let e=Z.value?p.inactiveValue:p.activeValue;l(r,e),l(i,e),l(a,e),B(()=>{U.value.checked=Z.value})},$=()=>{if(P.value)return;let{beforeChange:e}=p;if(!e){Q();return}let t=e();[A(t),V(t)].includes(!0)||n(K,"beforeChange must return type `Promise<boolean>` or `boolean`"),A(t)?t.then(e=>{e&&Q()}).catch(e=>{}):t&&Q()};return m(()=>{U.value.checked=Z.value}),s({focus:()=>{var e,t;(t=(e=U.value)?.focus)==null||t.call(e)},checked:Z}),(e,t)=>(O(),k(`div`,{class:E(L(G)),onClick:f($,[`prevent`])},[N(`input`,{id:L(M),ref_key:`input`,ref:U,class:E(L(w).e(`input`)),type:`checkbox`,role:`switch`,"aria-checked":L(Z),"aria-disabled":L(P),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:L(P),tabindex:e.tabindex,onChange:Q,onKeydown:v($,[`enter`])},null,42,[`id`,`aria-checked`,`aria-disabled`,`aria-label`,`name`,`true-value`,`false-value`,`disabled`,`tabindex`,`onKeydown`]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(O(),k(`span`,{key:0,class:E(L(q))},[e.inactiveIcon?(O(),I(L(o),{key:0},{default:b(()=>[(O(),I(h(e.inactiveIcon)))]),_:1})):T(`v-if`,!0),!e.inactiveIcon&&e.inactiveText?(O(),k(`span`,{key:1,"aria-hidden":L(Z)},j(e.inactiveText),9,[`aria-hidden`])):T(`v-if`,!0)],2)):T(`v-if`,!0),N(`span`,{ref_key:`core`,ref:W,class:E(L(w).e(`core`)),style:F(L(Y))},[e.inlinePrompt?(O(),k(`div`,{key:0,class:E(L(w).e(`inner`))},[e.activeIcon||e.inactiveIcon?(O(),I(L(o),{key:0,class:E(L(w).is(`icon`))},{default:b(()=>[(O(),I(h(L(Z)?e.activeIcon:e.inactiveIcon)))]),_:1},8,[`class`])):e.activeText||e.inactiveText?(O(),k(`span`,{key:1,class:E(L(w).is(`text`)),"aria-hidden":!L(Z)},j(L(Z)?e.activeText:e.inactiveText),11,[`aria-hidden`])):T(`v-if`,!0)],2)):T(`v-if`,!0),N(`div`,{class:E(L(w).e(`action`))},[e.loading?(O(),I(L(o),{key:0,class:E(L(w).is(`loading`))},{default:b(()=>[D(L(ee))]),_:1},8,[`class`])):L(Z)?_(e.$slots,`active-action`,{key:1},()=>[e.activeActionIcon?(O(),I(L(o),{key:0},{default:b(()=>[(O(),I(h(e.activeActionIcon)))]),_:1})):T(`v-if`,!0)]):L(Z)?T(`v-if`,!0):_(e.$slots,`inactive-action`,{key:2},()=>[e.inactiveActionIcon?(O(),I(L(o),{key:0},{default:b(()=>[(O(),I(h(e.inactiveActionIcon)))]),_:1})):T(`v-if`,!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(O(),k(`span`,{key:1,class:E(L(J))},[e.activeIcon?(O(),I(L(o),{key:0},{default:b(()=>[(O(),I(h(e.activeIcon)))]),_:1})):T(`v-if`,!0),!e.activeIcon&&e.activeText?(O(),k(`span`,{key:1,"aria-hidden":!L(Z)},j(e.activeText),9,[`aria-hidden`])):T(`v-if`,!0)],2)):T(`v-if`,!0)],10,[`onClick`]))}}),[[`__file`,`switch.vue`]]));export{U as n,q as t};