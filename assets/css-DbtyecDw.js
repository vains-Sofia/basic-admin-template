import{t as e}from"./use-aria-CMjMJ4AS.js";import{n as t,r as n,t as r}from"./event-ybyaoC_m.js";import{a as i,i as a,n as o,r as ee}from"./use-deprecated-BP8lmVFH.js";import{$ as s,Er as c,Fr as l,Gn as u,Gr as d,Gt as f,Ht as p,Ii as m,Mi as h,Mr as g,N as _,Ri as v,Rr as y,Vi as b,Vr as x,X as S,Y as C,_r as w,dr as T,et as E,fr as D,g as O,gt as k,ir as te,ki as A,mr as j,nt as M,ot as N,pr as P,qr as F,ri as I,rr as L,ui as R,ur as z,vr as B,vt as V,yi as H,yt as U}from"./index-DkS91mYz.js";var W=[`year`,`years`,`month`,`months`,`date`,`dates`,`week`,`datetime`,`datetimerange`,`daterange`,`monthrange`,`yearrange`],G=e=>[``,...k].includes(e);H();var K=V({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:G},width:{type:[String,Number],default:``},inlinePrompt:Boolean,inactiveActionIcon:{type:O},activeActionIcon:{type:O},activeIcon:{type:O},inactiveIcon:{type:O},activeText:{type:String,default:``},inactiveText:{type:String,default:``},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:``},validateEvent:{type:Boolean,default:!0},beforeChange:{type:U(Function)},id:String,tabindex:{type:[String,Number]},...e([`ariaLabel`])}),q={[n]:e=>p(e)||h(e)||f(e),[r]:e=>p(e)||h(e)||f(e),[t]:e=>p(e)||h(e)||f(e)};H();var J=`ElSwitch`,Y=S(N(B({...B({name:J}),props:K,emits:q,setup(e,{expose:f,emit:h}){let S=e,{formItem:O}=a(),k=ee(),N=u(`switch`),{inputId:B}=i(S,{formItemContext:O}),V=o(z(()=>S.loading)),H=I(S.modelValue!==!1),U=I(),W=I(),G=z(()=>[N.b(),N.m(k.value),N.is(`disabled`,V.value),N.is(`checked`,Z.value)]),K=z(()=>[N.e(`label`),N.em(`label`,`left`),N.is(`active`,!Z.value)]),q=z(()=>[N.e(`label`),N.em(`label`,`right`),N.is(`active`,Z.value)]),Y=z(()=>({width:M(S.width)}));d(()=>S.modelValue,()=>{H.value=!0});let X=z(()=>H.value?S.modelValue:!1),Z=z(()=>X.value===S.activeValue);[S.activeValue,S.inactiveValue].includes(X.value)||(h(n,S.inactiveValue),h(r,S.inactiveValue),h(t,S.inactiveValue)),d(Z,e=>{var t;U.value.checked=e,S.validateEvent&&((t=O?.validate)==null||t.call(O,`change`).catch(e=>s()))});let Q=()=>{let e=Z.value?S.inactiveValue:S.activeValue;h(n,e),h(r,e),h(t,e),c(()=>{U.value.checked=Z.value})},$=()=>{if(V.value)return;let{beforeChange:e}=S;if(!e){Q();return}let t=e();[A(t),p(t)].includes(!0)||E(J,"beforeChange must return type `Promise<boolean>` or `boolean`"),A(t)?t.then(e=>{e&&Q()}).catch(e=>{}):t&&Q()};return g(()=>{U.value.checked=Z.value}),f({focus:()=>{var e,t;(t=(e=U.value)?.focus)==null||t.call(e)},checked:Z}),(e,t)=>(l(),j(`div`,{class:m(R(G)),onClick:te($,[`prevent`])},[T(`input`,{id:R(B),ref_key:`input`,ref:U,class:m(R(N).e(`input`)),type:`checkbox`,role:`switch`,"aria-checked":R(Z),"aria-disabled":R(V),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:R(V),tabindex:e.tabindex,onChange:Q,onKeydown:L($,[`enter`])},null,42,[`id`,`aria-checked`,`aria-disabled`,`aria-label`,`name`,`true-value`,`false-value`,`disabled`,`tabindex`,`onKeydown`]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(l(),j(`span`,{key:0,class:m(R(K))},[e.inactiveIcon?(l(),D(R(C),{key:0},{default:F(()=>[(l(),D(x(e.inactiveIcon)))]),_:1})):P(`v-if`,!0),!e.inactiveIcon&&e.inactiveText?(l(),j(`span`,{key:1,"aria-hidden":R(Z)},b(e.inactiveText),9,[`aria-hidden`])):P(`v-if`,!0)],2)):P(`v-if`,!0),T(`span`,{ref_key:`core`,ref:W,class:m(R(N).e(`core`)),style:v(R(Y))},[e.inlinePrompt?(l(),j(`div`,{key:0,class:m(R(N).e(`inner`))},[e.activeIcon||e.inactiveIcon?(l(),D(R(C),{key:0,class:m(R(N).is(`icon`))},{default:F(()=>[(l(),D(x(R(Z)?e.activeIcon:e.inactiveIcon)))]),_:1},8,[`class`])):e.activeText||e.inactiveText?(l(),j(`span`,{key:1,class:m(R(N).is(`text`)),"aria-hidden":!R(Z)},b(R(Z)?e.activeText:e.inactiveText),11,[`aria-hidden`])):P(`v-if`,!0)],2)):P(`v-if`,!0),T(`div`,{class:m(R(N).e(`action`))},[e.loading?(l(),D(R(C),{key:0,class:m(R(N).is(`loading`))},{default:F(()=>[w(R(_))]),_:1},8,[`class`])):R(Z)?y(e.$slots,`active-action`,{key:1},()=>[e.activeActionIcon?(l(),D(R(C),{key:0},{default:F(()=>[(l(),D(x(e.activeActionIcon)))]),_:1})):P(`v-if`,!0)]):R(Z)?P(`v-if`,!0):y(e.$slots,`inactive-action`,{key:2},()=>[e.inactiveActionIcon?(l(),D(R(C),{key:0},{default:F(()=>[(l(),D(x(e.inactiveActionIcon)))]),_:1})):P(`v-if`,!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(l(),j(`span`,{key:1,class:m(R(q))},[e.activeIcon?(l(),D(R(C),{key:0},{default:F(()=>[(l(),D(x(e.activeIcon)))]),_:1})):P(`v-if`,!0),!e.activeIcon&&e.activeText?(l(),j(`span`,{key:1,"aria-hidden":!R(Z)},b(e.activeText),9,[`aria-hidden`])):P(`v-if`,!0)],2)):P(`v-if`,!0)],10,[`onClick`]))}}),[[`__file`,`switch.vue`]]));export{G as n,W as r,Y as t};